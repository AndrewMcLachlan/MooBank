{
  "openapi": "3.1.1",
  "info": {
    "title": "MooBank API",
    "version": "2025.12.0"
  },
  "paths": {
    "/api/accounts": {
      "get": {
        "tags": [
          "Accounts"
        ],
        "operationId": "get-accounts",
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/LogicalAccount"
                  }
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "Accounts"
        ],
        "operationId": "create-account",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateAccount"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Created",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/LogicalAccount"
                }
              }
            }
          }
        }
      }
    },
    "/api/accounts/{instrumentId}": {
      "get": {
        "tags": [
          "Accounts"
        ],
        "operationId": "get-account",
        "parameters": [
          {
            "name": "instrumentId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/LogicalAccount"
                }
              }
            }
          }
        }
      }
    },
    "/api/accounts/{id}": {
      "patch": {
        "tags": [
          "Accounts"
        ],
        "operationId": "update-account",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/LogicalAccount"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/LogicalAccount"
                }
              }
            }
          }
        }
      }
    },
    "/api/accounts/{instrumentId}/institution-accounts/{id}": {
      "get": {
        "tags": [
          "Accounts"
        ],
        "operationId": "get-institution-account",
        "parameters": [
          {
            "name": "instrumentId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          },
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/InstitutionAccount"
                }
              }
            }
          }
        }
      },
      "patch": {
        "tags": [
          "Accounts"
        ],
        "operationId": "update-institution-account",
        "parameters": [
          {
            "name": "instrumentId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          },
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateInstitutionAccount"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/InstitutionAccount"
                }
              }
            }
          }
        }
      }
    },
    "/api/accounts/{instrumentId}/institution-accounts": {
      "post": {
        "tags": [
          "Accounts"
        ],
        "operationId": "create-institution-account",
        "parameters": [
          {
            "name": "instrumentId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateInstitutionAccount"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Created",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/InstitutionAccount"
                }
              }
            }
          }
        }
      }
    },
    "/api/accounts/{instrumentId}/institution-accounts/{id}/close": {
      "post": {
        "tags": [
          "Accounts"
        ],
        "operationId": "close-institution-account",
        "parameters": [
          {
            "name": "instrumentId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          },
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/InstitutionAccount"
                }
              }
            }
          }
        }
      }
    },
    "/api/accounts/{accountId}/recurring": {
      "get": {
        "tags": [
          "Recurring Transactions"
        ],
        "operationId": "get-all-recurring-transactions",
        "parameters": [
          {
            "name": "accountId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/RecurringTransaction"
                  }
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "Recurring Transactions"
        ],
        "operationId": "create-recurring-transaction",
        "responses": {
          "201": {
            "description": "Created",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RecurringTransaction"
                }
              }
            }
          },
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RecurringTransaction"
                }
              }
            }
          }
        }
      }
    },
    "/api/accounts/{accountId}/recurring/{recurringTransactionId}": {
      "get": {
        "tags": [
          "Recurring Transactions"
        ],
        "operationId": "get-recurring-transaction",
        "parameters": [
          {
            "name": "accountId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          },
          {
            "name": "recurringTransactionId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RecurringTransaction"
                }
              }
            }
          }
        }
      },
      "patch": {
        "tags": [
          "Recurring Transactions"
        ],
        "operationId": "update-recurring-transaction",
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RecurringTransaction"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "Recurring Transactions"
        ],
        "operationId": "delete-recurring-transaction",
        "parameters": [
          {
            "name": "accountId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          },
          {
            "name": "recurringTransactionId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "No Content"
          }
        }
      }
    },
    "/api/accounts/{accountId}/virtual/{virtualAccountId}/recurring": {
      "get": {
        "tags": [
          "Recurring Transactions"
        ],
        "operationId": "Get Recurring Transactions for a Virtual Account",
        "parameters": [
          {
            "name": "accountId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          },
          {
            "name": "virtualAccountId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/RecurringTransaction"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/assets/{id}": {
      "get": {
        "tags": [
          "Assets"
        ],
        "operationId": "get-asset",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Asset"
                }
              }
            }
          }
        }
      },
      "patch": {
        "tags": [
          "Assets"
        ],
        "operationId": "update-asset",
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Asset"
                }
              }
            }
          }
        }
      }
    },
    "/api/assets": {
      "post": {
        "tags": [
          "Assets"
        ],
        "operationId": "create-asset",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateAsset"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Created",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Asset"
                }
              }
            }
          }
        }
      }
    },
    "/api/bills": {
      "get": {
        "tags": [
          "Bills"
        ],
        "operationId": "get-all-bills",
        "parameters": [
          {
            "name": "PageSize",
            "in": "query",
            "required": true,
            "schema": {
              "pattern": "^-?(?:0|[1-9]\\d*)$",
              "type": [
                "integer",
                "string"
              ],
              "format": "int32"
            }
          },
          {
            "name": "PageNumber",
            "in": "query",
            "required": true,
            "schema": {
              "pattern": "^-?(?:0|[1-9]\\d*)$",
              "type": [
                "integer",
                "string"
              ],
              "format": "int32"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Bill"
                }
              }
            }
          }
        }
      }
    },
    "/api/bills/accounts/types": {
      "get": {
        "tags": [
          "Bills"
        ],
        "operationId": "get-bill-account-summaries-by-type",
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/AccountTypeSummary"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/bills/accounts/types/{type}": {
      "get": {
        "tags": [
          "Bills"
        ],
        "operationId": "get-bill-accounts-by-type",
        "parameters": [
          {
            "name": "type",
            "in": "path",
            "required": true,
            "schema": {
              "$ref": "#/components/schemas/UtilityType"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Account"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/bills/accounts": {
      "get": {
        "tags": [
          "Bills"
        ],
        "operationId": "get-bill-accounts",
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Account"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/bills/accounts/{instrumentId}": {
      "get": {
        "tags": [
          "Bills"
        ],
        "operationId": "get-bill-account",
        "parameters": [
          {
            "name": "instrumentId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Account"
                }
              }
            }
          }
        }
      }
    },
    "/api/bills/accounts/{instrumentId}/bills": {
      "get": {
        "tags": [
          "Bills"
        ],
        "operationId": "get-bills-for-an-account",
        "parameters": [
          {
            "name": "instrumentId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          },
          {
            "name": "PageSize",
            "in": "query",
            "schema": {
              "pattern": "^-?(?:0|[1-9]\\d*)$",
              "type": [
                "integer",
                "string"
              ],
              "format": "int32",
              "default": 20
            }
          },
          {
            "name": "PageNumber",
            "in": "query",
            "schema": {
              "pattern": "^-?(?:0|[1-9]\\d*)$",
              "type": [
                "integer",
                "string"
              ],
              "format": "int32",
              "default": 1
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Bill"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "Bills"
        ],
        "operationId": "create-bill",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Create"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Created",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Bill"
                }
              }
            }
          }
        }
      }
    },
    "/api/bills/accounts/{instrumentId}/bills/{id}": {
      "get": {
        "tags": [
          "Bills"
        ],
        "operationId": "get-bill",
        "parameters": [
          {
            "name": "instrumentId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          },
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "pattern": "^-?(?:0|[1-9]\\d*)$",
              "type": [
                "integer",
                "string"
              ],
              "format": "int32"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Bill"
                }
              }
            }
          }
        }
      }
    },
    "/api/budget": {
      "get": {
        "tags": [
          "Budget"
        ],
        "operationId": "get-all-budget-years",
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "pattern": "^-?(?:0|[1-9]\\d*)$",
                    "type": [
                      "integer",
                      "string"
                    ],
                    "format": "int16"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/budget/{year}": {
      "get": {
        "tags": [
          "Budget"
        ],
        "operationId": "get-budget",
        "parameters": [
          {
            "name": "year",
            "in": "path",
            "required": true,
            "schema": {
              "pattern": "^-?(?:0|[1-9]\\d*)$",
              "type": [
                "integer",
                "string"
              ],
              "format": "int16"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Budget"
                }
              }
            }
          }
        }
      }
    },
    "/api/budget/{year}/lines/{id}": {
      "get": {
        "tags": [
          "Budget"
        ],
        "operationId": "get-budget-line",
        "parameters": [
          {
            "name": "year",
            "in": "path",
            "required": true,
            "schema": {
              "pattern": "^-?(?:0|[1-9]\\d*)$",
              "type": [
                "integer",
                "string"
              ],
              "format": "int16"
            }
          },
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BudgetLine"
                }
              }
            }
          }
        }
      },
      "patch": {
        "tags": [
          "Budget"
        ],
        "operationId": "update-budget-line",
        "parameters": [
          {
            "name": "year",
            "in": "path",
            "required": true,
            "schema": {
              "pattern": "^-?(?:0|[1-9]\\d*)$",
              "type": [
                "integer",
                "string"
              ],
              "format": "int16"
            }
          },
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/BudgetLine"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BudgetLine"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "Budget"
        ],
        "operationId": "delete-budget-line",
        "parameters": [
          {
            "name": "year",
            "in": "path",
            "required": true,
            "schema": {
              "pattern": "^-?(?:0|[1-9]\\d*)$",
              "type": [
                "integer",
                "string"
              ],
              "format": "int16"
            }
          },
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "No Content"
          }
        }
      }
    },
    "/api/budget/{year}/lines": {
      "post": {
        "tags": [
          "Budget"
        ],
        "operationId": "create-budget-line",
        "parameters": [
          {
            "name": "year",
            "in": "path",
            "required": true,
            "schema": {
              "pattern": "^-?(?:0|[1-9]\\d*)$",
              "type": [
                "integer",
                "string"
              ],
              "format": "int16"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/BudgetLine"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Created",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BudgetLine"
                }
              }
            }
          },
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BudgetLine"
                }
              }
            }
          }
        }
      }
    },
    "/api/budget/tag/{tagId}": {
      "get": {
        "tags": [
          "Budget"
        ],
        "operationId": "get-budget-amount-for-tag",
        "parameters": [
          {
            "name": "tagId",
            "in": "path",
            "required": true,
            "schema": {
              "pattern": "^-?(?:0|[1-9]\\d*)$",
              "type": [
                "integer",
                "string"
              ],
              "format": "int32"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "pattern": "^-?(?:0|[1-9]\\d*)(?:\\.\\d+)?$",
                  "type": [
                    "number",
                    "string"
                  ],
                  "format": "double"
                }
              }
            }
          }
        }
      }
    },
    "/api/budget/{year}/report": {
      "get": {
        "tags": [
          "Budget Report"
        ],
        "operationId": "get-budget-report",
        "parameters": [
          {
            "name": "year",
            "in": "path",
            "required": true,
            "schema": {
              "pattern": "^-?(?:0|[1-9]\\d*)$",
              "type": [
                "integer",
                "string"
              ],
              "format": "int16"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BudgetReportByMonth"
                }
              }
            }
          }
        }
      }
    },
    "/api/budget/{year}/report/{month}": {
      "get": {
        "tags": [
          "Budget Report"
        ],
        "operationId": "get-budget-report-for-month",
        "parameters": [
          {
            "name": "year",
            "in": "path",
            "required": true,
            "schema": {
              "pattern": "^-?(?:0|[1-9]\\d*)$",
              "type": [
                "integer",
                "string"
              ],
              "format": "int16"
            }
          },
          {
            "name": "month",
            "in": "path",
            "required": true,
            "schema": {
              "pattern": "^-?(?:0|[1-9]\\d*)$",
              "type": [
                "integer",
                "string"
              ],
              "format": "int16"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BudgetReportValueMonth"
                }
              }
            }
          }
        }
      }
    },
    "/api/budget/{year}/report/{month}/breakdown": {
      "get": {
        "tags": [
          "Budget Report"
        ],
        "operationId": "get-budget-report-breakdown-for-month",
        "parameters": [
          {
            "name": "year",
            "in": "path",
            "required": true,
            "schema": {
              "pattern": "^-?(?:0|[1-9]\\d*)$",
              "type": [
                "integer",
                "string"
              ],
              "format": "int16"
            }
          },
          {
            "name": "month",
            "in": "path",
            "required": true,
            "schema": {
              "pattern": "^-?(?:0|[1-9]\\d*)$",
              "type": [
                "integer",
                "string"
              ],
              "format": "int16"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BudgetReportByMonthBreakdown"
                }
              }
            }
          }
        }
      }
    },
    "/api/budget/{year}/report/{month}/breakdown/unbudgeted": {
      "get": {
        "tags": [
          "Budget Report"
        ],
        "operationId": "get-budget-report-breakdown-for-month-for-unbudgeted-items",
        "parameters": [
          {
            "name": "year",
            "in": "path",
            "required": true,
            "schema": {
              "pattern": "^-?(?:0|[1-9]\\d*)$",
              "type": [
                "integer",
                "string"
              ],
              "format": "int16"
            }
          },
          {
            "name": "month",
            "in": "path",
            "required": true,
            "schema": {
              "pattern": "^-?(?:0|[1-9]\\d*)$",
              "type": [
                "integer",
                "string"
              ],
              "format": "int16"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BudgetReportByMonthBreakdown"
                }
              }
            }
          }
        }
      }
    },
    "/api/families": {
      "get": {
        "tags": [
          "Families"
        ],
        "operationId": "get-all-families",
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Family"
                  }
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "Families"
        ],
        "operationId": "create-family",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateFamily"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Created",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Family"
                }
              }
            }
          }
        }
      }
    },
    "/api/families/{id}": {
      "get": {
        "tags": [
          "Families"
        ],
        "operationId": "get-family",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Family"
                }
              }
            }
          }
        }
      },
      "patch": {
        "tags": [
          "Families"
        ],
        "operationId": "update-family",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateFamily"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Family"
                }
              }
            }
          }
        }
      }
    },
    "/api/forecast/plans": {
      "get": {
        "tags": [
          "Forecast"
        ],
        "operationId": "get-all-forecast-plans",
        "parameters": [
          {
            "name": "IncludeArchived",
            "in": "query",
            "schema": {
              "type": "boolean",
              "default": false
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/ForecastPlan"
                  }
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "Forecast"
        ],
        "operationId": "create-forecast-plan",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ForecastPlan"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Created",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ForecastPlan"
                }
              }
            }
          },
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ForecastPlan"
                }
              }
            }
          }
        }
      }
    },
    "/api/forecast/plans/{id}": {
      "get": {
        "tags": [
          "Forecast"
        ],
        "operationId": "get-forecast-plan",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ForecastPlan"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "Forecast"
        ],
        "operationId": "update-forecast-plan",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ForecastPlan"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ForecastPlan"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "Forecast"
        ],
        "operationId": "delete-forecast-plan",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "No Content"
          }
        }
      }
    },
    "/api/forecast/plans/{id}/archive": {
      "patch": {
        "tags": [
          "Forecast"
        ],
        "operationId": "archive-forecast-plan",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ForecastPlan"
                }
              }
            }
          }
        }
      }
    },
    "/api/forecast/plans/{planId}/run": {
      "post": {
        "tags": [
          "Forecast"
        ],
        "operationId": "run-forecast",
        "parameters": [
          {
            "name": "planId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ForecastResult"
                }
              }
            }
          }
        }
      }
    },
    "/api/forecast/plans/{planId}/items/{itemId}": {
      "get": {
        "tags": [
          "Forecast"
        ],
        "operationId": "Planned Items",
        "parameters": [
          {
            "name": "planId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          },
          {
            "name": "itemId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PlannedItem"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "Forecast"
        ],
        "operationId": "update-planned-item",
        "parameters": [
          {
            "name": "planId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          },
          {
            "name": "itemId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/PlannedItem"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PlannedItem"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "Forecast"
        ],
        "operationId": "delete-planned-item",
        "parameters": [
          {
            "name": "planId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          },
          {
            "name": "itemId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "No Content"
          }
        }
      }
    },
    "/api/forecast/plans/{planId}/items": {
      "post": {
        "tags": [
          "Forecast"
        ],
        "operationId": "create-planned-item",
        "parameters": [
          {
            "name": "planId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/PlannedItem"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Created",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PlannedItem"
                }
              }
            }
          },
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PlannedItem"
                }
              }
            }
          }
        }
      }
    },
    "/api/groups": {
      "get": {
        "tags": [
          "Groups"
        ],
        "operationId": "get-all-groups",
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Group"
                  }
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "Groups"
        ],
        "operationId": "create-group",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateGroup"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Created",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Group"
                }
              }
            }
          },
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Group"
                }
              }
            }
          }
        }
      }
    },
    "/api/groups/{id}": {
      "get": {
        "tags": [
          "Groups"
        ],
        "operationId": "get-group",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Group"
                }
              }
            }
          }
        }
      },
      "patch": {
        "tags": [
          "Groups"
        ],
        "operationId": "update-group",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Group"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Group"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "Groups"
        ],
        "operationId": "delete-group",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "No Content"
          }
        }
      }
    },
    "/api/institutions": {
      "get": {
        "tags": [
          "Institutions"
        ],
        "operationId": "get-all-institutions",
        "parameters": [
          {
            "name": "AccountType",
            "in": "query",
            "schema": {
              "$ref": "#/components/schemas/AccountType"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Institution"
                  }
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "Institutions"
        ],
        "operationId": "create-institution",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateInstitution"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Created",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Institution"
                }
              }
            }
          }
        }
      }
    },
    "/api/institutions/{id}": {
      "get": {
        "tags": [
          "Institutions"
        ],
        "operationId": "get-institution",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "pattern": "^-?(?:0|[1-9]\\d*)$",
              "type": [
                "integer",
                "string"
              ],
              "format": "int32"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Institution"
                }
              }
            }
          }
        }
      },
      "patch": {
        "tags": [
          "Institutions"
        ],
        "operationId": "update-institution",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "pattern": "^-?(?:0|[1-9]\\d*)$",
              "type": [
                "integer",
                "string"
              ],
              "format": "int32"
            }
          },
          {
            "name": "Name",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "InstitutionType",
            "in": "query",
            "required": true,
            "schema": {
              "$ref": "#/components/schemas/InstitutionType"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Institution"
                }
              }
            }
          }
        }
      }
    },
    "/api/instruments/summary": {
      "get": {
        "tags": [
          "Instruments"
        ],
        "operationId": "get-formatted-instruments-list",
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/InstrumentsList"
                }
              }
            }
          }
        }
      }
    },
    "/api/instruments/list": {
      "get": {
        "tags": [
          "Instruments"
        ],
        "operationId": "get-instruments-list",
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/ListItem"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/instruments/{instrumentId}/accounts/{accountId}/import": {
      "post": {
        "tags": [
          "Import"
        ],
        "operationId": "import",
        "parameters": [
          {
            "name": "instrumentId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          },
          {
            "name": "accountId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "requestBody": {
          "content": {
            "multipart/form-data": {
              "schema": {
                "required": [
                  "file"
                ],
                "type": "object",
                "properties": {
                  "file": {
                    "$ref": "#/components/schemas/IFormFile"
                  }
                }
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/instruments/{instrumentId}/accounts/{accountId}/import/reprocess": {
      "post": {
        "tags": [
          "Import"
        ],
        "operationId": "reprocess",
        "parameters": [
          {
            "name": "instrumentId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          },
          {
            "name": "accountId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "No Content"
          }
        }
      }
    },
    "/api/instruments/{instrumentId}/rules": {
      "get": {
        "tags": [
          "Rules"
        ],
        "operationId": "get-all-instrument-rules",
        "parameters": [
          {
            "name": "instrumentId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Rule"
                  }
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "Rules"
        ],
        "operationId": "create-instrument-rule",
        "responses": {
          "201": {
            "description": "Created",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Rule"
                }
              }
            }
          },
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Rule"
                }
              }
            }
          }
        }
      }
    },
    "/api/instruments/{instrumentId}/rules/{ruleId}": {
      "get": {
        "tags": [
          "Rules"
        ],
        "operationId": "get-instrument-rule",
        "parameters": [
          {
            "name": "instrumentId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          },
          {
            "name": "ruleId",
            "in": "path",
            "required": true,
            "schema": {
              "pattern": "^-?(?:0|[1-9]\\d*)$",
              "type": [
                "integer",
                "string"
              ],
              "format": "int32"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Rule"
                }
              }
            }
          }
        }
      },
      "patch": {
        "tags": [
          "Rules"
        ],
        "operationId": "update-instrument-rule",
        "parameters": [
          {
            "name": "instrumentId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          },
          {
            "name": "ruleId",
            "in": "path",
            "required": true,
            "schema": {
              "pattern": "^-?(?:0|[1-9]\\d*)$",
              "type": [
                "integer",
                "string"
              ],
              "format": "int32"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateRule"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Rule"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "Rules"
        ],
        "operationId": "delete-instrument-rule",
        "parameters": [
          {
            "name": "instrumentId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          },
          {
            "name": "ruleId",
            "in": "path",
            "required": true,
            "schema": {
              "pattern": "^-?(?:0|[1-9]\\d*)$",
              "type": [
                "integer",
                "string"
              ],
              "format": "int32"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "No Content"
          }
        }
      }
    },
    "/api/instruments/{instrumentId}/rules/{ruleId}/tag/{tagId}": {
      "put": {
        "tags": [
          "Rules"
        ],
        "operationId": "add-tag-to-instrument-rule",
        "parameters": [
          {
            "name": "instrumentId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          },
          {
            "name": "ruleId",
            "in": "path",
            "required": true,
            "schema": {
              "pattern": "^-?(?:0|[1-9]\\d*)$",
              "type": [
                "integer",
                "string"
              ],
              "format": "int32"
            }
          },
          {
            "name": "tagId",
            "in": "path",
            "required": true,
            "schema": {
              "pattern": "^-?(?:0|[1-9]\\d*)$",
              "type": [
                "integer",
                "string"
              ],
              "format": "int32"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Rule"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "Rules"
        ],
        "operationId": "remove-tag-from-instrument-rule",
        "parameters": [
          {
            "name": "instrumentId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          },
          {
            "name": "ruleId",
            "in": "path",
            "required": true,
            "schema": {
              "pattern": "^-?(?:0|[1-9]\\d*)$",
              "type": [
                "integer",
                "string"
              ],
              "format": "int32"
            }
          },
          {
            "name": "tagId",
            "in": "path",
            "required": true,
            "schema": {
              "pattern": "^-?(?:0|[1-9]\\d*)$",
              "type": [
                "integer",
                "string"
              ],
              "format": "int32"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "No Content"
          }
        }
      }
    },
    "/api/instruments/{instrumentId}/rules/run": {
      "post": {
        "tags": [
          "Rules"
        ],
        "operationId": "run-rules",
        "parameters": [
          {
            "name": "instrumentId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "202": {
            "description": "Accepted"
          }
        }
      }
    },
    "/api/instruments/{instrumentId}/virtual": {
      "get": {
        "tags": [
          "Virtual Instruments"
        ],
        "operationId": "get-virtual-instruments",
        "parameters": [
          {
            "name": "instrumentId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/VirtualInstrument"
                  }
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "Virtual Instruments"
        ],
        "operationId": "create-virtual-instrument",
        "parameters": [
          {
            "name": "instrumentId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateVirtualInstrument"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Created",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/VirtualInstrument"
                }
              }
            }
          }
        }
      }
    },
    "/api/instruments/{instrumentId}/virtual/{virtualInstrumentId}": {
      "get": {
        "tags": [
          "Virtual Instruments"
        ],
        "operationId": "get-virtual-instrument",
        "parameters": [
          {
            "name": "instrumentId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          },
          {
            "name": "virtualInstrumentId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/VirtualInstrument"
                }
              }
            }
          }
        }
      },
      "patch": {
        "tags": [
          "Virtual Instruments"
        ],
        "operationId": "update-virtual-instrument",
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/VirtualInstrument"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "Virtual Instruments"
        ],
        "operationId": "delete-virtual-instrument",
        "parameters": [
          {
            "name": "instrumentId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          },
          {
            "name": "virtualInstrumentId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "No Content"
          }
        }
      }
    },
    "/api/instruments/{instrumentId}/virtual/{virtualInstrumentId}/balance": {
      "patch": {
        "tags": [
          "Virtual Instruments"
        ],
        "operationId": "update-virtual-instrument-balance",
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/VirtualInstrument"
                }
              }
            }
          }
        }
      }
    },
    "/api/reference-data/importer-types": {
      "get": {
        "tags": [
          "Reference Data"
        ],
        "operationId": "importer-types",
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/ImporterType"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/accounts/{accountId}/reports/in-out/{start}/{end}": {
      "get": {
        "tags": [
          "Reports"
        ],
        "operationId": "in-out-report",
        "parameters": [
          {
            "name": "accountId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          },
          {
            "name": "start",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "date"
            }
          },
          {
            "name": "end",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "date"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/InOutReport"
                }
              }
            }
          }
        }
      }
    },
    "/api/accounts/{accountId}/reports/in-out-trend/{start}/{end}": {
      "get": {
        "tags": [
          "Reports"
        ],
        "operationId": "in-out-trend-report",
        "parameters": [
          {
            "name": "Interval",
            "in": "query",
            "required": true,
            "schema": {
              "$ref": "#/components/schemas/ReportInterval"
            }
          },
          {
            "name": "accountId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          },
          {
            "name": "start",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "date"
            }
          },
          {
            "name": "end",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "date"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/InOutTrendReport"
                }
              }
            }
          }
        }
      }
    },
    "/api/accounts/{accountId}/reports/in-out-average/{start}/{end}": {
      "get": {
        "tags": [
          "Reports"
        ],
        "operationId": "in-out-average-report",
        "parameters": [
          {
            "name": "Interval",
            "in": "query",
            "required": true,
            "schema": {
              "$ref": "#/components/schemas/ReportInterval"
            }
          },
          {
            "name": "accountId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          },
          {
            "name": "start",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "date"
            }
          },
          {
            "name": "end",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "date"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/InOutReport"
                }
              }
            }
          }
        }
      }
    },
    "/api/accounts/{accountId}/reports/{reportType}/tags/{start}/{end}/{parentTagId}": {
      "get": {
        "tags": [
          "Reports"
        ],
        "operationId": "by-tag-report",
        "parameters": [
          {
            "name": "parentTagId",
            "in": "path",
            "required": true,
            "schema": {
              "pattern": "^-?(?:0|[1-9]\\d*)$",
              "type": [
                "integer",
                "string"
              ],
              "format": "int32"
            }
          },
          {
            "name": "reportType",
            "in": "path",
            "required": true,
            "schema": {
              "$ref": "#/components/schemas/ReportType"
            }
          },
          {
            "name": "accountId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          },
          {
            "name": "start",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "date"
            }
          },
          {
            "name": "end",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "date"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ByTagReport"
                }
              }
            }
          }
        }
      }
    },
    "/api/accounts/{accountId}/reports/{reportType}/breakdown/{start}/{end}/{parentTagId}": {
      "get": {
        "tags": [
          "Reports"
        ],
        "operationId": "tag-breakdown-report",
        "parameters": [
          {
            "name": "parentTagId",
            "in": "path",
            "required": true,
            "schema": {
              "pattern": "^-?(?:0|[1-9]\\d*)$",
              "type": [
                "integer",
                "string"
              ],
              "format": "int32"
            }
          },
          {
            "name": "reportType",
            "in": "path",
            "required": true,
            "schema": {
              "$ref": "#/components/schemas/ReportType"
            }
          },
          {
            "name": "accountId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          },
          {
            "name": "start",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "date"
            }
          },
          {
            "name": "end",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "date"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BreakdownReport"
                }
              }
            }
          }
        }
      }
    },
    "/api/accounts/{accountId}/reports/{reportType}/tag-trend/{start}/{end}/{tagId}": {
      "get": {
        "tags": [
          "Reports"
        ],
        "operationId": "tag-trend-report",
        "parameters": [
          {
            "name": "tagId",
            "in": "path",
            "required": true,
            "schema": {
              "pattern": "^-?(?:0|[1-9]\\d*)$",
              "type": [
                "integer",
                "string"
              ],
              "format": "int32"
            }
          },
          {
            "name": "ApplySmoothing",
            "in": "query",
            "schema": {
              "type": "boolean"
            }
          },
          {
            "name": "reportType",
            "in": "path",
            "required": true,
            "schema": {
              "$ref": "#/components/schemas/ReportType"
            }
          },
          {
            "name": "accountId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          },
          {
            "name": "start",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "date"
            }
          },
          {
            "name": "end",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "date"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TagTrendReport"
                }
              }
            }
          }
        }
      }
    },
    "/api/accounts/{accountId}/reports/{reportType}/all-tag-average/{start}/{end}": {
      "get": {
        "tags": [
          "Reports"
        ],
        "operationId": "all-tag-average-report",
        "parameters": [
          {
            "name": "Top",
            "in": "query",
            "required": true,
            "schema": {
              "pattern": "^-?(?:0|[1-9]\\d*)$",
              "type": [
                "integer",
                "string"
              ],
              "format": "int32"
            }
          },
          {
            "name": "Interval",
            "in": "query",
            "required": true,
            "schema": {
              "$ref": "#/components/schemas/ReportInterval"
            }
          },
          {
            "name": "reportType",
            "in": "path",
            "required": true,
            "schema": {
              "$ref": "#/components/schemas/ReportType"
            }
          },
          {
            "name": "accountId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          },
          {
            "name": "start",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "date"
            }
          },
          {
            "name": "end",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "date"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AllTagAverageReport"
                }
              }
            }
          }
        }
      }
    },
    "/api/accounts/{accountId}/reports/monthly-balances/{start}/{end}": {
      "get": {
        "tags": [
          "Reports"
        ],
        "operationId": "monthly-balances-report",
        "parameters": [
          {
            "name": "accountId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          },
          {
            "name": "start",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "date"
            }
          },
          {
            "name": "end",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "date"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MonthlyBalancesReport"
                }
              }
            }
          }
        }
      }
    },
    "/api/groups/{groupId}/reports/monthly-balances/{start}/{end}": {
      "get": {
        "tags": [
          "Group Reports"
        ],
        "operationId": "group-monthly-balances-report",
        "parameters": [
          {
            "name": "groupId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          },
          {
            "name": "start",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "date"
            }
          },
          {
            "name": "end",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "date"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MonthlyBalancesReport"
                }
              }
            }
          }
        }
      }
    },
    "/api/stocks/{instrumentId}": {
      "get": {
        "tags": [
          "Stock Holding"
        ],
        "operationId": "get-stock-holding",
        "parameters": [
          {
            "name": "instrumentId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/StockHolding"
                }
              }
            }
          }
        }
      },
      "patch": {
        "tags": [
          "Stock Holding"
        ],
        "operationId": "update-stock-holding",
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/StockHolding"
                }
              }
            }
          }
        }
      }
    },
    "/api/stocks/{instrumentId}/cpi-adjusted-gain-loss": {
      "get": {
        "tags": [
          "Stock Holding"
        ],
        "operationId": "get-stock-holding-cpi-adjusted-gain-loss",
        "parameters": [
          {
            "name": "instrumentId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "pattern": "^-?(?:0|[1-9]\\d*)(?:\\.\\d+)?$",
                  "type": [
                    "number",
                    "string"
                  ],
                  "format": "double"
                }
              }
            }
          }
        }
      }
    },
    "/api/stocks": {
      "post": {
        "tags": [
          "Stock Holding"
        ],
        "operationId": "create-stock-holding",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateStock"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Created",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/StockHolding"
                }
              }
            }
          }
        }
      }
    },
    "/api/stocks/{instrumentId}/reports/holding": {
      "get": {
        "tags": [
          "Stock Holding"
        ],
        "operationId": "stock-holding-report",
        "parameters": [
          {
            "name": "instrumentId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/StockHoldingReport"
                }
              }
            }
          }
        }
      }
    },
    "/api/stocks/{instrumentId}/reports/value": {
      "get": {
        "tags": [
          "Stock Holding"
        ],
        "operationId": "stock-value-report",
        "parameters": [
          {
            "name": "instrumentId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          },
          {
            "name": "Start",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "format": "date"
            }
          },
          {
            "name": "End",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "format": "date"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/StockValueReport"
                }
              }
            }
          }
        }
      }
    },
    "/api/stocks/{instrumentId}/transactions/{pageSize}/{pageNumber}": {
      "get": {
        "tags": [
          "Transactions"
        ],
        "operationId": "get-stock-transactions",
        "parameters": [
          {
            "name": "instrumentId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          },
          {
            "name": "Filter",
            "in": "query",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "Start",
            "in": "query",
            "schema": {
              "type": "string",
              "format": "date-time"
            }
          },
          {
            "name": "End",
            "in": "query",
            "schema": {
              "type": "string",
              "format": "date-time"
            }
          },
          {
            "name": "pageSize",
            "in": "path",
            "required": true,
            "schema": {
              "pattern": "^-?(?:0|[1-9]\\d*)$",
              "type": [
                "integer",
                "string"
              ],
              "format": "int32"
            }
          },
          {
            "name": "pageNumber",
            "in": "path",
            "required": true,
            "schema": {
              "pattern": "^-?(?:0|[1-9]\\d*)$",
              "type": [
                "integer",
                "string"
              ],
              "format": "int32"
            }
          },
          {
            "name": "SortField",
            "in": "query",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "SortDirection",
            "in": "query",
            "required": true,
            "schema": {
              "$ref": "#/components/schemas/SortDirection"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/StockTransaction"
                }
              }
            }
          }
        }
      }
    },
    "/api/stocks/{instrumentId}/transactions": {
      "post": {
        "tags": [
          "Transactions"
        ],
        "operationId": "create-stock-transaction",
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/StockTransaction"
                }
              }
            }
          }
        }
      }
    },
    "/api/tags": {
      "get": {
        "tags": [
          "Tags"
        ],
        "operationId": "get-tags",
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Tag"
                  }
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "Tags"
        ],
        "operationId": "create-tag",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateTag"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Created",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Tag"
                }
              }
            }
          }
        }
      }
    },
    "/api/tags/hierarchy": {
      "get": {
        "tags": [
          "Tags"
        ],
        "operationId": "get-tag-hierarchy",
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TagHierarchy"
                }
              }
            }
          }
        }
      }
    },
    "/api/tags/{id}": {
      "get": {
        "tags": [
          "Tags"
        ],
        "operationId": "get-tag",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "pattern": "^-?(?:0|[1-9]\\d*)$",
              "type": [
                "integer",
                "string"
              ],
              "format": "int32"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Tag"
                }
              }
            }
          }
        }
      },
      "patch": {
        "tags": [
          "Tags"
        ],
        "operationId": "update-tag",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "pattern": "^-?(?:0|[1-9]\\d*)$",
              "type": [
                "integer",
                "string"
              ],
              "format": "int32"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateTag"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Tag"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "Tags"
        ],
        "operationId": "delete-tag",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "pattern": "^-?(?:0|[1-9]\\d*)$",
              "type": [
                "integer",
                "string"
              ],
              "format": "int32"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "No Content"
          }
        }
      }
    },
    "/api/tags/{name}": {
      "put": {
        "tags": [
          "Tags"
        ],
        "summary": "Create a tag by name",
        "operationId": "create-tag-by-name",
        "responses": {
          "201": {
            "description": "Created",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Tag"
                }
              }
            }
          }
        }
      }
    },
    "/api/tags/{id}/tags/{subTagId}": {
      "put": {
        "tags": [
          "Tags"
        ],
        "operationId": "add-sub-tag",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "pattern": "^-?(?:0|[1-9]\\d*)$",
              "type": [
                "integer",
                "string"
              ],
              "format": "int32"
            }
          },
          {
            "name": "subTagId",
            "in": "path",
            "required": true,
            "schema": {
              "pattern": "^-?(?:0|[1-9]\\d*)$",
              "type": [
                "integer",
                "string"
              ],
              "format": "int32"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Tag"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "Tags"
        ],
        "operationId": "remove-sub-tag",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "pattern": "^-?(?:0|[1-9]\\d*)$",
              "type": [
                "integer",
                "string"
              ],
              "format": "int32"
            }
          },
          {
            "name": "subTagId",
            "in": "path",
            "required": true,
            "schema": {
              "pattern": "^-?(?:0|[1-9]\\d*)$",
              "type": [
                "integer",
                "string"
              ],
              "format": "int32"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "No Content"
          }
        }
      }
    },
    "/api/accounts/{instrumentId}/transactions/{pageSize}/{pageNumber}": {
      "get": {
        "tags": [
          "Transactions"
        ],
        "operationId": "get-transactions",
        "parameters": [
          {
            "name": "pageSize",
            "in": "path",
            "required": true,
            "schema": {
              "pattern": "^-?(?:0|[1-9]\\d*)$",
              "type": [
                "integer",
                "string"
              ],
              "format": "int32"
            }
          },
          {
            "name": "pageNumber",
            "in": "path",
            "required": true,
            "schema": {
              "pattern": "^-?(?:0|[1-9]\\d*)$",
              "type": [
                "integer",
                "string"
              ],
              "format": "int32"
            }
          },
          {
            "name": "instrumentId",
            "in": "path",
            "description": "The ID of the instrument (account) to filter transactions for.",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          },
          {
            "name": "Filter",
            "in": "query",
            "description": "The search filter string to apply to transaction descriptions or references.",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "Start",
            "in": "query",
            "description": "The date and time to start filtering transactions from.",
            "schema": {
              "type": "string",
              "format": "date-time"
            }
          },
          {
            "name": "End",
            "in": "query",
            "description": "The date and time to end filtering transactions at.",
            "schema": {
              "type": "string",
              "format": "date-time"
            }
          },
          {
            "name": "TagIds",
            "in": "query",
            "description": "The integer IDs of the tags to filter by.",
            "schema": {
              "type": "array",
              "items": {
                "pattern": "^-?(?:0|[1-9]\\d*)$",
                "type": [
                  "integer",
                  "string"
                ],
                "format": "int32"
              }
            }
          },
          {
            "name": "SortField",
            "in": "query",
            "description": "The field to sort the results by.",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "TransactionType",
            "in": "query",
            "description": "The type of transactions to include.",
            "schema": {
              "$ref": "#/components/schemas/TransactionFilterType"
            }
          },
          {
            "name": "SortDirection",
            "in": "query",
            "description": "The direction to sort the results.",
            "required": true,
            "schema": {
              "$ref": "#/components/schemas/SortDirection"
            }
          },
          {
            "name": "Untagged",
            "in": "query",
            "description": "Converts the 'untagged' route parameter to a boolean.",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "ExcludeNetZero",
            "in": "query",
            "description": "Exclude transactions where the amount has been offset to zero.",
            "schema": {
              "type": "boolean"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Transaction"
                }
              }
            }
          }
        }
      }
    },
    "/api/accounts/{instrumentId}/transactions/{untagged}/{pageSize}/{pageNumber}": {
      "get": {
        "tags": [
          "Transactions"
        ],
        "operationId": "get-untagged-transactions",
        "parameters": [
          {
            "name": "pageSize",
            "in": "path",
            "required": true,
            "schema": {
              "pattern": "^-?(?:0|[1-9]\\d*)$",
              "type": [
                "integer",
                "string"
              ],
              "format": "int32"
            }
          },
          {
            "name": "pageNumber",
            "in": "path",
            "required": true,
            "schema": {
              "pattern": "^-?(?:0|[1-9]\\d*)$",
              "type": [
                "integer",
                "string"
              ],
              "format": "int32"
            }
          },
          {
            "name": "instrumentId",
            "in": "path",
            "description": "The ID of the instrument (account) to filter transactions for.",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          },
          {
            "name": "Filter",
            "in": "query",
            "description": "The search filter string to apply to transaction descriptions or references.",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "Start",
            "in": "query",
            "description": "The date and time to start filtering transactions from.",
            "schema": {
              "type": "string",
              "format": "date-time"
            }
          },
          {
            "name": "End",
            "in": "query",
            "description": "The date and time to end filtering transactions at.",
            "schema": {
              "type": "string",
              "format": "date-time"
            }
          },
          {
            "name": "TagIds",
            "in": "query",
            "description": "The integer IDs of the tags to filter by.",
            "schema": {
              "type": "array",
              "items": {
                "pattern": "^-?(?:0|[1-9]\\d*)$",
                "type": [
                  "integer",
                  "string"
                ],
                "format": "int32"
              }
            }
          },
          {
            "name": "SortField",
            "in": "query",
            "description": "The field to sort the results by.",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "TransactionType",
            "in": "query",
            "description": "The type of transactions to include.",
            "schema": {
              "$ref": "#/components/schemas/TransactionFilterType"
            }
          },
          {
            "name": "SortDirection",
            "in": "query",
            "description": "The direction to sort the results.",
            "required": true,
            "schema": {
              "$ref": "#/components/schemas/SortDirection"
            }
          },
          {
            "name": "untagged",
            "in": "path",
            "description": "Converts the 'untagged' route parameter to a boolean.",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "ExcludeNetZero",
            "in": "query",
            "description": "Exclude transactions where the amount has been offset to zero.",
            "schema": {
              "type": "boolean"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Transaction"
                }
              }
            }
          }
        }
      }
    },
    "/api/accounts/{instrumentId}/transactions": {
      "get": {
        "tags": [
          "Transactions"
        ],
        "operationId": "search-transactions",
        "parameters": [
          {
            "name": "instrumentId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          },
          {
            "name": "Start",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "format": "date"
            }
          },
          {
            "name": "TransactionType",
            "in": "query",
            "required": true,
            "schema": {
              "$ref": "#/components/schemas/TransactionType"
            }
          },
          {
            "name": "TagIds",
            "in": "query",
            "required": true,
            "schema": {
              "type": "array",
              "items": {
                "pattern": "^-?(?:0|[1-9]\\d*)$",
                "type": [
                  "integer",
                  "string"
                ],
                "format": "int32"
              }
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Transaction"
                  }
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "Transactions"
        ],
        "operationId": "create-transaction",
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Transaction"
                }
              }
            }
          }
        }
      }
    },
    "/api/accounts/{instrumentId}/transactions/balance-adjustment": {
      "post": {
        "tags": [
          "Transactions"
        ],
        "operationId": "set-balance",
        "parameters": [
          {
            "name": "instrumentId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateTransaction"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Transaction"
                }
              }
            }
          }
        }
      }
    },
    "/api/accounts/{instrumentId}/transactions/{id}": {
      "patch": {
        "tags": [
          "Transactions"
        ],
        "operationId": "update-transaction",
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Transaction"
                }
              }
            }
          }
        }
      }
    },
    "/api/accounts/{instrumentId}/transactions/{id}/tag/{tagId}": {
      "put": {
        "tags": [
          "Transactions"
        ],
        "operationId": "add-tag",
        "parameters": [
          {
            "name": "instrumentId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          },
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          },
          {
            "name": "tagId",
            "in": "path",
            "required": true,
            "schema": {
              "pattern": "^-?(?:0|[1-9]\\d*)$",
              "type": [
                "integer",
                "string"
              ],
              "format": "int32"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Transaction"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "Transactions"
        ],
        "operationId": "remove-tag",
        "parameters": [
          {
            "name": "instrumentId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          },
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          },
          {
            "name": "tagId",
            "in": "path",
            "required": true,
            "schema": {
              "pattern": "^-?(?:0|[1-9]\\d*)$",
              "type": [
                "integer",
                "string"
              ],
              "format": "int32"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Transaction"
                }
              }
            }
          }
        }
      }
    },
    "/api/users/me": {
      "get": {
        "tags": [
          "User"
        ],
        "operationId": "get-user",
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserWithCards"
                }
              }
            }
          }
        }
      },
      "patch": {
        "tags": [
          "User"
        ],
        "operationId": "update-user",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateUser"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserWithCards"
                }
              }
            }
          }
        }
      }
    }
  },
  "components": {
    "schemas": {
      "Account": {
        "required": [
          "id",
          "name",
          "currentBalance",
          "currentBalanceLocalCurrency",
          "currency",
          "controller"
        ],
        "type": "object",
        "properties": {
          "utilityType": {
            "$ref": "#/components/schemas/UtilityType"
          },
          "firstBill": {
            "type": [
              "null",
              "string"
            ],
            "format": "date"
          },
          "latestBill": {
            "type": [
              "null",
              "string"
            ],
            "format": "date"
          },
          "id": {
            "type": "string",
            "format": "uuid"
          },
          "name": {
            "type": "string"
          },
          "description": {
            "type": [
              "null",
              "string"
            ]
          },
          "balanceDate": {
            "type": "string",
            "format": "date-time"
          },
          "currentBalance": {
            "pattern": "^-?(?:0|[1-9]\\d*)(?:\\.\\d+)?$",
            "type": [
              "number",
              "string"
            ],
            "format": "double"
          },
          "currentBalanceLocalCurrency": {
            "pattern": "^-?(?:0|[1-9]\\d*)(?:\\.\\d+)?$",
            "type": [
              "null",
              "number",
              "string"
            ],
            "format": "double"
          },
          "currency": {
            "type": "string"
          },
          "controller": {
            "$ref": "#/components/schemas/Controller"
          },
          "closedDate": {
            "type": [
              "null",
              "string"
            ],
            "format": "date"
          },
          "instrumentType": {
            "type": [
              "null",
              "string"
            ]
          },
          "groupId": {
            "type": [
              "null",
              "string"
            ],
            "format": "uuid"
          },
          "virtualInstruments": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/VirtualInstrument"
            }
          },
          "remainingBalance": {
            "pattern": "^-?(?:0|[1-9]\\d*)(?:\\.\\d+)?$",
            "type": [
              "null",
              "number",
              "string"
            ],
            "format": "double"
          },
          "remainingBalanceLocalCurrency": {
            "pattern": "^-?(?:0|[1-9]\\d*)(?:\\.\\d+)?$",
            "type": [
              "null",
              "number",
              "string"
            ],
            "format": "double"
          }
        }
      },
      "AccountScopeMode": {
        "enum": [
          "AllAccounts",
          "SelectedAccounts"
        ]
      },
      "AccountType": {
        "enum": [
          "NotSet",
          "Transaction",
          "Savings",
          "Credit",
          "Mortgage",
          "Superannuation",
          "Investment",
          "Loan",
          "Broker",
          null
        ]
      },
      "AccountTypeSummary": {
        "type": "object",
        "properties": {
          "utilityType": {
            "$ref": "#/components/schemas/UtilityType"
          },
          "from": {
            "type": "string",
            "format": "date"
          },
          "accounts": {
            "type": "array",
            "items": {
              "type": "string"
            }
          }
        }
      },
      "AllocationMode": {
        "enum": [
          "EvenlySpread",
          "AllAtEnd",
          null
        ]
      },
      "AllTagAverageReport": {
        "required": [
          "tags",
          "reportType",
          "accountId",
          "start",
          "end"
        ],
        "type": "object",
        "properties": {
          "tags": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/TagValue"
            }
          },
          "reportType": {
            "$ref": "#/components/schemas/ReportType"
          },
          "accountId": {
            "type": "string",
            "format": "uuid"
          },
          "start": {
            "type": "string",
            "format": "date"
          },
          "end": {
            "type": "string",
            "format": "date"
          }
        }
      },
      "Asset": {
        "required": [
          "id",
          "name",
          "currentBalance",
          "currentBalanceLocalCurrency",
          "currency",
          "controller"
        ],
        "type": "object",
        "properties": {
          "purchasePrice": {
            "pattern": "^-?(?:0|[1-9]\\d*)(?:\\.\\d+)?$",
            "type": [
              "null",
              "number",
              "string"
            ],
            "format": "double"
          },
          "shareWithFamily": {
            "type": "boolean"
          },
          "id": {
            "type": "string",
            "format": "uuid"
          },
          "name": {
            "type": "string"
          },
          "description": {
            "type": [
              "null",
              "string"
            ]
          },
          "balanceDate": {
            "type": "string",
            "format": "date-time"
          },
          "currentBalance": {
            "pattern": "^-?(?:0|[1-9]\\d*)(?:\\.\\d+)?$",
            "type": [
              "number",
              "string"
            ],
            "format": "double"
          },
          "currentBalanceLocalCurrency": {
            "pattern": "^-?(?:0|[1-9]\\d*)(?:\\.\\d+)?$",
            "type": [
              "null",
              "number",
              "string"
            ],
            "format": "double"
          },
          "currency": {
            "type": "string"
          },
          "controller": {
            "$ref": "#/components/schemas/Controller"
          },
          "closedDate": {
            "type": [
              "null",
              "string"
            ],
            "format": "date"
          },
          "instrumentType": {
            "type": [
              "null",
              "string"
            ]
          },
          "groupId": {
            "type": [
              "null",
              "string"
            ],
            "format": "uuid"
          },
          "virtualInstruments": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/VirtualInstrument"
            }
          },
          "remainingBalance": {
            "pattern": "^-?(?:0|[1-9]\\d*)(?:\\.\\d+)?$",
            "type": [
              "null",
              "number",
              "string"
            ],
            "format": "double"
          },
          "remainingBalanceLocalCurrency": {
            "pattern": "^-?(?:0|[1-9]\\d*)(?:\\.\\d+)?$",
            "type": [
              "null",
              "number",
              "string"
            ],
            "format": "double"
          }
        }
      },
      "Assumptions": {
        "type": "object",
        "properties": {
          "version": {
            "pattern": "^-?(?:0|[1-9]\\d*)$",
            "type": [
              "integer",
              "string"
            ],
            "format": "int32"
          },
          "inflationRateAnnual": {
            "pattern": "^-?(?:0|[1-9]\\d*)(?:\\.\\d+)?$",
            "type": [
              "null",
              "number",
              "string"
            ],
            "format": "double"
          },
          "applyInflationToBaseline": {
            "type": "boolean"
          },
          "applyInflationToPlanned": {
            "type": "boolean"
          },
          "safetyBuffer": {
            "pattern": "^-?(?:0|[1-9]\\d*)(?:\\.\\d+)?$",
            "type": [
              "number",
              "string"
            ],
            "format": "double"
          }
        }
      },
      "Bill": {
        "type": "object",
        "properties": {
          "id": {
            "pattern": "^-?(?:0|[1-9]\\d*)$",
            "type": [
              "integer",
              "string"
            ],
            "format": "int32"
          },
          "invoiceNumber": {
            "type": [
              "null",
              "string"
            ]
          },
          "issueDate": {
            "type": "string",
            "format": "date"
          },
          "currentReading": {
            "pattern": "^-?(?:0|[1-9]\\d*)$",
            "type": [
              "null",
              "integer",
              "string"
            ],
            "format": "int32"
          },
          "previousReading": {
            "pattern": "^-?(?:0|[1-9]\\d*)$",
            "type": [
              "null",
              "integer",
              "string"
            ],
            "format": "int32"
          },
          "total": {
            "pattern": "^-?(?:0|[1-9]\\d*)$",
            "type": [
              "integer",
              "string"
            ],
            "format": "int32"
          },
          "costsIncludeGST": {
            "type": [
              "null",
              "boolean"
            ]
          },
          "cost": {
            "pattern": "^-?(?:0|[1-9]\\d*)(?:\\.\\d+)?$",
            "type": [
              "number",
              "string"
            ],
            "format": "double"
          },
          "periods": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/Period"
            }
          },
          "discounts": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/Discount"
            }
          }
        }
      },
      "BreakdownReport": {
        "required": [
          "tags",
          "accountId",
          "start",
          "end"
        ],
        "type": "object",
        "properties": {
          "tags": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/TagValue"
            }
          },
          "accountId": {
            "type": "string",
            "format": "uuid"
          },
          "start": {
            "type": "string",
            "format": "date"
          },
          "end": {
            "type": "string",
            "format": "date"
          }
        }
      },
      "Budget": {
        "type": "object",
        "properties": {
          "name": {
            "type": [
              "null",
              "string"
            ]
          },
          "path": {
            "type": [
              "null",
              "string"
            ]
          },
          "tags": {
            "type": [
              "null",
              "string"
            ]
          },
          "authorisationPolicy": {
            "type": [
              "null",
              "string"
            ]
          }
        }
      },
      "BudgetLine": {
        "required": [
          "name"
        ],
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid"
          },
          "name": {
            "type": "string"
          },
          "tagId": {
            "pattern": "^-?(?:0|[1-9]\\d*)$",
            "type": [
              "integer",
              "string"
            ],
            "format": "int32"
          },
          "notes": {
            "type": [
              "null",
              "string"
            ]
          },
          "amount": {
            "pattern": "^-?(?:0|[1-9]\\d*)(?:\\.\\d+)?$",
            "type": [
              "number",
              "string"
            ],
            "format": "double"
          },
          "month": {
            "pattern": "^-?(?:0|[1-9]\\d*)$",
            "type": [
              "integer",
              "string"
            ],
            "format": "int16"
          },
          "type": {
            "$ref": "#/components/schemas/BudgetLineType"
          }
        }
      },
      "BudgetLineType": {
        "enum": [
          "Income",
          "Expenses"
        ]
      },
      "BudgetReportByMonth": {
        "type": "object",
        "properties": {
          "items": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/BudgetReportValueMonth"
            }
          }
        }
      },
      "BudgetReportByMonthBreakdown": {
        "required": [
          "tags"
        ],
        "type": "object",
        "properties": {
          "tags": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/BudgetReportValueTag"
            }
          }
        }
      },
      "BudgetReportValueMonth": {
        "required": [
          "month",
          "budgetedAmount",
          "actual"
        ],
        "type": "object",
        "properties": {
          "month": {
            "pattern": "^-?(?:0|[1-9]\\d*)$",
            "type": [
              "integer",
              "string"
            ],
            "format": "int32"
          },
          "budgetedAmount": {
            "pattern": "^-?(?:0|[1-9]\\d*)(?:\\.\\d+)?$",
            "type": [
              "number",
              "string"
            ],
            "format": "double"
          },
          "actual": {
            "pattern": "^-?(?:0|[1-9]\\d*)(?:\\.\\d+)?$",
            "type": [
              "null",
              "number",
              "string"
            ],
            "format": "double"
          }
        }
      },
      "BudgetReportValueTag": {
        "required": [
          "name",
          "budgetedAmount",
          "actual"
        ],
        "type": "object",
        "properties": {
          "name": {
            "type": "string"
          },
          "budgetedAmount": {
            "pattern": "^-?(?:0|[1-9]\\d*)(?:\\.\\d+)?$",
            "type": [
              "number",
              "string"
            ],
            "format": "double"
          },
          "actual": {
            "pattern": "^-?(?:0|[1-9]\\d*)(?:\\.\\d+)?$",
            "type": [
              "null",
              "number",
              "string"
            ],
            "format": "double"
          }
        }
      },
      "ByTagReport": {
        "required": [
          "tags",
          "accountId",
          "start",
          "end"
        ],
        "type": "object",
        "properties": {
          "tags": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/TagValue"
            }
          },
          "accountId": {
            "type": "string",
            "format": "uuid"
          },
          "start": {
            "type": "string",
            "format": "date"
          },
          "end": {
            "type": "string",
            "format": "date"
          }
        }
      },
      "Controller": {
        "enum": [
          "Manual",
          "Virtual",
          "Import"
        ]
      },
      "Create": {
        "required": [
          "instrumentId",
          "bill"
        ],
        "type": "object",
        "properties": {
          "instrumentId": {
            "type": "string",
            "format": "uuid"
          },
          "bill": {
            "$ref": "#/components/schemas/CreateBill"
          }
        }
      },
      "CreateAccount": {
        "required": [
          "name",
          "institutionId",
          "currency",
          "balance"
        ],
        "type": "object",
        "properties": {
          "name": {
            "type": "string"
          },
          "description": {
            "type": [
              "null",
              "string"
            ]
          },
          "importerTypeId": {
            "pattern": "^-?(?:0|[1-9]\\d*)$",
            "type": [
              "null",
              "integer",
              "string"
            ],
            "format": "int32"
          },
          "institutionId": {
            "pattern": "^-?(?:0|[1-9]\\d*)$",
            "type": [
              "integer",
              "string"
            ],
            "format": "int32"
          },
          "currency": {
            "type": "string"
          },
          "balance": {
            "pattern": "^-?(?:0|[1-9]\\d*)(?:\\.\\d+)?$",
            "type": [
              "number",
              "string"
            ],
            "format": "double"
          },
          "openedDate": {
            "type": [
              "null",
              "string"
            ],
            "format": "date"
          },
          "groupId": {
            "type": [
              "null",
              "string"
            ],
            "format": "uuid"
          },
          "accountType": {
            "$ref": "#/components/schemas/AccountType"
          },
          "controller": {
            "$ref": "#/components/schemas/Controller"
          },
          "includeInBudget": {
            "type": "boolean"
          },
          "shareWithFamily": {
            "type": "boolean"
          }
        }
      },
      "CreateAsset": {
        "required": [
          "name",
          "description",
          "shareWithFamily"
        ],
        "type": "object",
        "properties": {
          "name": {
            "type": "string"
          },
          "description": {
            "type": "string"
          },
          "purchasePrice": {
            "pattern": "^-?(?:0|[1-9]\\d*)(?:\\.\\d+)?$",
            "type": [
              "null",
              "number",
              "string"
            ],
            "format": "double"
          },
          "currentBalance": {
            "pattern": "^-?(?:0|[1-9]\\d*)(?:\\.\\d+)?$",
            "type": [
              "number",
              "string"
            ],
            "format": "double"
          },
          "shareWithFamily": {
            "type": "boolean"
          },
          "groupId": {
            "type": [
              "null",
              "string"
            ],
            "format": "uuid"
          }
        }
      },
      "CreateBill": {
        "type": "object",
        "properties": {
          "invoiceNumber": {
            "type": [
              "null",
              "string"
            ]
          },
          "issueDate": {
            "type": "string",
            "format": "date"
          },
          "currentReading": {
            "pattern": "^-?(?:0|[1-9]\\d*)$",
            "type": [
              "null",
              "integer",
              "string"
            ],
            "format": "int32"
          },
          "previousReading": {
            "pattern": "^-?(?:0|[1-9]\\d*)$",
            "type": [
              "null",
              "integer",
              "string"
            ],
            "format": "int32"
          },
          "total": {
            "pattern": "^-?(?:0|[1-9]\\d*)$",
            "type": [
              "integer",
              "string"
            ],
            "format": "int32"
          },
          "costsIncludeGST": {
            "type": [
              "null",
              "boolean"
            ]
          },
          "cost": {
            "pattern": "^-?(?:0|[1-9]\\d*)(?:\\.\\d+)?$",
            "type": [
              "number",
              "string"
            ],
            "format": "double"
          },
          "periods": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/Period"
            }
          },
          "discounts": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/Discount"
            }
          }
        }
      },
      "CreateFamily": {
        "required": [
          "name"
        ],
        "type": "object",
        "properties": {
          "name": {
            "type": "string"
          }
        }
      },
      "CreateGroup": {
        "required": [
          "name",
          "description",
          "showTotal"
        ],
        "type": "object",
        "properties": {
          "name": {
            "type": "string"
          },
          "description": {
            "type": "string"
          },
          "showTotal": {
            "type": "boolean"
          }
        }
      },
      "CreateInstitution": {
        "required": [
          "name",
          "institutionType"
        ],
        "type": "object",
        "properties": {
          "name": {
            "type": "string"
          },
          "institutionType": {
            "$ref": "#/components/schemas/InstitutionType"
          }
        }
      },
      "CreateInstitutionAccount": {
        "required": [
          "name"
        ],
        "type": "object",
        "properties": {
          "institutionId": {
            "pattern": "^-?(?:0|[1-9]\\d*)$",
            "type": [
              "integer",
              "string"
            ],
            "format": "int32"
          },
          "importerTypeId": {
            "pattern": "^-?(?:0|[1-9]\\d*)$",
            "type": [
              "null",
              "integer",
              "string"
            ],
            "format": "int32"
          },
          "name": {
            "type": "string"
          },
          "openedDate": {
            "type": "string",
            "format": "date"
          }
        }
      },
      "CreateStock": {
        "required": [
          "name",
          "description",
          "symbol",
          "price",
          "quantity",
          "fees",
          "shareWithFamily"
        ],
        "type": "object",
        "properties": {
          "name": {
            "type": "string"
          },
          "description": {
            "type": "string"
          },
          "symbol": {
            "type": "string"
          },
          "price": {
            "pattern": "^-?(?:0|[1-9]\\d*)(?:\\.\\d+)?$",
            "type": [
              "number",
              "string"
            ],
            "format": "double"
          },
          "quantity": {
            "pattern": "^-?(?:0|[1-9]\\d*)$",
            "type": [
              "integer",
              "string"
            ],
            "format": "int32"
          },
          "fees": {
            "pattern": "^-?(?:0|[1-9]\\d*)(?:\\.\\d+)?$",
            "type": [
              "number",
              "string"
            ],
            "format": "double"
          },
          "shareWithFamily": {
            "type": "boolean"
          },
          "groupId": {
            "type": [
              "null",
              "string"
            ],
            "format": "uuid"
          }
        }
      },
      "CreateTag": {
        "required": [
          "tag"
        ],
        "type": "object",
        "properties": {
          "tag": {
            "$ref": "#/components/schemas/Tag"
          }
        }
      },
      "CreateTransaction": {
        "required": [
          "amount",
          "description",
          "reference",
          "transactionTime"
        ],
        "type": "object",
        "properties": {
          "amount": {
            "pattern": "^-?(?:0|[1-9]\\d*)(?:\\.\\d+)?$",
            "type": [
              "number",
              "string"
            ],
            "format": "double"
          },
          "description": {
            "type": "string"
          },
          "reference": {
            "type": [
              "null",
              "string"
            ]
          },
          "transactionTime": {
            "type": "string",
            "format": "date-time"
          }
        }
      },
      "CreateVirtualInstrument": {
        "required": [
          "name"
        ],
        "type": "object",
        "properties": {
          "name": {
            "type": "string"
          },
          "description": {
            "type": [
              "null",
              "string"
            ]
          },
          "openingBalance": {
            "pattern": "^-?(?:0|[1-9]\\d*)(?:\\.\\d+)?$",
            "type": [
              "number",
              "string"
            ],
            "format": "double"
          },
          "controller": {
            "$ref": "#/components/schemas/Controller"
          }
        }
      },
      "Discount": {
        "type": "object",
        "properties": {
          "discountPercent": {
            "pattern": "^-?(?:0|[1-9]\\d*)$",
            "type": [
              "null",
              "integer",
              "string"
            ],
            "format": "uint8"
          },
          "discountAmount": {
            "pattern": "^-?(?:0|[1-9]\\d*)(?:\\.\\d+)?$",
            "type": [
              "null",
              "number",
              "string"
            ],
            "format": "double"
          },
          "reason": {
            "type": [
              "null",
              "string"
            ]
          }
        }
      },
      "Family": {
        "required": [
          "name"
        ],
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid"
          },
          "name": {
            "type": "string"
          },
          "members": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/User"
            }
          }
        }
      },
      "ForecastMonth": {
        "type": "object",
        "properties": {
          "monthStart": {
            "type": "string",
            "format": "date"
          },
          "openingBalance": {
            "pattern": "^-?(?:0|[1-9]\\d*)(?:\\.\\d+)?$",
            "type": [
              "number",
              "string"
            ],
            "format": "double"
          },
          "incomeTotal": {
            "pattern": "^-?(?:0|[1-9]\\d*)(?:\\.\\d+)?$",
            "type": [
              "number",
              "string"
            ],
            "format": "double"
          },
          "baselineOutgoingsTotal": {
            "pattern": "^-?(?:0|[1-9]\\d*)(?:\\.\\d+)?$",
            "type": [
              "number",
              "string"
            ],
            "format": "double"
          },
          "plannedItemsTotal": {
            "pattern": "^-?(?:0|[1-9]\\d*)(?:\\.\\d+)?$",
            "type": [
              "number",
              "string"
            ],
            "format": "double"
          },
          "closingBalance": {
            "pattern": "^-?(?:0|[1-9]\\d*)(?:\\.\\d+)?$",
            "type": [
              "number",
              "string"
            ],
            "format": "double"
          }
        }
      },
      "ForecastPlan": {
        "required": [
          "name"
        ],
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid"
          },
          "name": {
            "type": "string"
          },
          "startDate": {
            "type": "string",
            "format": "date"
          },
          "endDate": {
            "type": "string",
            "format": "date"
          },
          "accountScopeMode": {
            "$ref": "#/components/schemas/AccountScopeMode"
          },
          "startingBalanceMode": {
            "$ref": "#/components/schemas/StartingBalanceMode"
          },
          "startingBalanceAmount": {
            "pattern": "^-?(?:0|[1-9]\\d*)(?:\\.\\d+)?$",
            "type": [
              "null",
              "number",
              "string"
            ],
            "format": "double"
          },
          "currencyCode": {
            "type": [
              "null",
              "string"
            ]
          },
          "incomeStrategy": {
            "oneOf": [
              {
                "type": "null"
              },
              {
                "$ref": "#/components/schemas/IncomeStrategy"
              }
            ]
          },
          "outgoingStrategy": {
            "oneOf": [
              {
                "type": "null"
              },
              {
                "$ref": "#/components/schemas/OutgoingStrategy"
              }
            ]
          },
          "assumptions": {
            "oneOf": [
              {
                "type": "null"
              },
              {
                "$ref": "#/components/schemas/Assumptions"
              }
            ]
          },
          "isArchived": {
            "type": "boolean"
          },
          "createdUtc": {
            "type": "string",
            "format": "date-time"
          },
          "updatedUtc": {
            "type": "string",
            "format": "date-time"
          },
          "accountIds": {
            "type": "array",
            "items": {
              "type": "string",
              "format": "uuid"
            }
          },
          "plannedItems": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/PlannedItem"
            }
          }
        }
      },
      "ForecastResult": {
        "required": [
          "months",
          "summary"
        ],
        "type": "object",
        "properties": {
          "planId": {
            "type": "string",
            "format": "uuid"
          },
          "months": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ForecastMonth"
            }
          },
          "summary": {
            "$ref": "#/components/schemas/ForecastSummary"
          }
        }
      },
      "ForecastSummary": {
        "type": "object",
        "properties": {
          "lowestBalance": {
            "pattern": "^-?(?:0|[1-9]\\d*)(?:\\.\\d+)?$",
            "type": [
              "number",
              "string"
            ],
            "format": "double"
          },
          "lowestBalanceMonth": {
            "type": "string",
            "format": "date"
          },
          "requiredMonthlyUplift": {
            "pattern": "^-?(?:0|[1-9]\\d*)(?:\\.\\d+)?$",
            "type": [
              "number",
              "string"
            ],
            "format": "double"
          },
          "monthsBelowZero": {
            "pattern": "^-?(?:0|[1-9]\\d*)$",
            "type": [
              "integer",
              "string"
            ],
            "format": "int32"
          },
          "totalIncome": {
            "pattern": "^-?(?:0|[1-9]\\d*)(?:\\.\\d+)?$",
            "type": [
              "number",
              "string"
            ],
            "format": "double"
          },
          "totalOutgoings": {
            "pattern": "^-?(?:0|[1-9]\\d*)(?:\\.\\d+)?$",
            "type": [
              "number",
              "string"
            ],
            "format": "double"
          }
        }
      },
      "Group": {
        "required": [
          "id",
          "name",
          "showTotal"
        ],
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid"
          },
          "name": {
            "type": "string"
          },
          "description": {
            "type": [
              "null",
              "string"
            ]
          },
          "showTotal": {
            "type": "boolean"
          }
        }
      },
      "HexColour": { },
      "HistoricalIncomeSettings": {
        "type": "object",
        "properties": {
          "lookbackMonths": {
            "pattern": "^-?(?:0|[1-9]\\d*)$",
            "type": [
              "integer",
              "string"
            ],
            "format": "int32"
          },
          "includeTagIds": {
            "type": [
              "null",
              "array"
            ],
            "items": {
              "pattern": "^-?(?:0|[1-9]\\d*)$",
              "type": [
                "integer",
                "string"
              ],
              "format": "int32"
            }
          },
          "excludeTagIds": {
            "type": [
              "null",
              "array"
            ],
            "items": {
              "pattern": "^-?(?:0|[1-9]\\d*)$",
              "type": [
                "integer",
                "string"
              ],
              "format": "int32"
            }
          },
          "excludeTransfers": {
            "type": "boolean"
          },
          "excludeOffsets": {
            "type": "boolean"
          }
        }
      },
      "IFormFile": {
        "type": "string",
        "format": "binary"
      },
      "ImporterType": {
        "required": [
          "type",
          "name"
        ],
        "type": "object",
        "properties": {
          "id": {
            "pattern": "^-?(?:0|[1-9]\\d*)$",
            "type": [
              "integer",
              "string"
            ],
            "format": "int32"
          },
          "type": {
            "type": "string"
          },
          "name": {
            "type": "string"
          }
        }
      },
      "IncomeStrategy": {
        "type": "object",
        "properties": {
          "version": {
            "pattern": "^-?(?:0|[1-9]\\d*)$",
            "type": [
              "integer",
              "string"
            ],
            "format": "int32"
          },
          "mode": {
            "type": "string"
          },
          "manualRecurring": {
            "oneOf": [
              {
                "type": "null"
              },
              {
                "$ref": "#/components/schemas/ManualRecurringIncome"
              }
            ]
          },
          "manualAdjustments": {
            "type": [
              "null",
              "array"
            ],
            "items": {
              "$ref": "#/components/schemas/ManualAdjustment"
            }
          },
          "historical": {
            "oneOf": [
              {
                "type": "null"
              },
              {
                "$ref": "#/components/schemas/HistoricalIncomeSettings"
              }
            ]
          }
        }
      },
      "InOutReport": {
        "required": [
          "income",
          "outgoings",
          "accountId",
          "start",
          "end"
        ],
        "type": "object",
        "properties": {
          "income": {
            "pattern": "^-?(?:0|[1-9]\\d*)(?:\\.\\d+)?$",
            "type": [
              "number",
              "string"
            ],
            "format": "double"
          },
          "outgoings": {
            "pattern": "^-?(?:0|[1-9]\\d*)(?:\\.\\d+)?$",
            "type": [
              "number",
              "string"
            ],
            "format": "double"
          },
          "accountId": {
            "type": "string",
            "format": "uuid"
          },
          "start": {
            "type": "string",
            "format": "date"
          },
          "end": {
            "type": "string",
            "format": "date"
          }
        }
      },
      "InOutTrendReport": {
        "required": [
          "income",
          "expenses",
          "accountId",
          "start",
          "end"
        ],
        "type": "object",
        "properties": {
          "income": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/TrendPoint"
            }
          },
          "expenses": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/TrendPoint"
            }
          },
          "accountId": {
            "type": "string",
            "format": "uuid"
          },
          "start": {
            "type": "string",
            "format": "date"
          },
          "end": {
            "type": "string",
            "format": "date"
          }
        }
      },
      "Institution": {
        "required": [
          "id",
          "name",
          "institutionType"
        ],
        "type": "object",
        "properties": {
          "id": {
            "pattern": "^-?(?:0|[1-9]\\d*)$",
            "type": [
              "integer",
              "string"
            ],
            "format": "int32"
          },
          "name": {
            "type": "string"
          },
          "institutionType": {
            "$ref": "#/components/schemas/InstitutionType"
          }
        }
      },
      "InstitutionAccount": {
        "required": [
          "name"
        ],
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid"
          },
          "importerTypeId": {
            "pattern": "^-?(?:0|[1-9]\\d*)$",
            "type": [
              "null",
              "integer",
              "string"
            ],
            "format": "int32"
          },
          "institutionId": {
            "pattern": "^-?(?:0|[1-9]\\d*)$",
            "type": [
              "integer",
              "string"
            ],
            "format": "int32"
          },
          "name": {
            "type": "string"
          },
          "openedDate": {
            "type": "string",
            "format": "date"
          },
          "closedDate": {
            "type": [
              "null",
              "string"
            ],
            "format": "date"
          }
        }
      },
      "InstitutionType": {
        "enum": [
          "Bank",
          "SuperannuationFund",
          "Broker",
          "CreditUnion",
          "BuildingSociety",
          "InvestmentFund",
          "Government",
          "Other",
          "Utility"
        ]
      },
      "Instrument": {
        "required": [
          "id",
          "name",
          "currentBalance",
          "currentBalanceLocalCurrency",
          "currency",
          "controller"
        ],
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid"
          },
          "name": {
            "type": "string"
          },
          "description": {
            "type": [
              "null",
              "string"
            ]
          },
          "balanceDate": {
            "type": "string",
            "format": "date-time"
          },
          "currentBalance": {
            "pattern": "^-?(?:0|[1-9]\\d*)(?:\\.\\d+)?$",
            "type": [
              "number",
              "string"
            ],
            "format": "double"
          },
          "currentBalanceLocalCurrency": {
            "pattern": "^-?(?:0|[1-9]\\d*)(?:\\.\\d+)?$",
            "type": [
              "null",
              "number",
              "string"
            ],
            "format": "double"
          },
          "currency": {
            "type": "string"
          },
          "controller": {
            "$ref": "#/components/schemas/Controller"
          },
          "closedDate": {
            "type": [
              "null",
              "string"
            ],
            "format": "date"
          },
          "instrumentType": {
            "type": [
              "null",
              "string"
            ]
          },
          "groupId": {
            "type": [
              "null",
              "string"
            ],
            "format": "uuid"
          },
          "virtualInstruments": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/VirtualInstrument"
            }
          },
          "remainingBalance": {
            "pattern": "^-?(?:0|[1-9]\\d*)(?:\\.\\d+)?$",
            "type": [
              "null",
              "number",
              "string"
            ],
            "format": "double"
          },
          "remainingBalanceLocalCurrency": {
            "pattern": "^-?(?:0|[1-9]\\d*)(?:\\.\\d+)?$",
            "type": [
              "null",
              "number",
              "string"
            ],
            "format": "double"
          }
        }
      },
      "InstrumentGroup": {
        "required": [
          "name",
          "instruments"
        ],
        "type": "object",
        "properties": {
          "id": {
            "type": [
              "null",
              "string"
            ],
            "format": "uuid"
          },
          "name": {
            "type": "string"
          },
          "instruments": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/Instrument"
            }
          },
          "showTotal": {
            "type": "boolean"
          },
          "total": {
            "pattern": "^-?(?:0|[1-9]\\d*)(?:\\.\\d+)?$",
            "type": [
              "null",
              "number",
              "string"
            ],
            "format": "double"
          }
        }
      },
      "InstrumentsList": {
        "required": [
          "groups"
        ],
        "type": "object",
        "properties": {
          "groups": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/InstrumentGroup"
            }
          },
          "total": {
            "pattern": "^-?(?:0|[1-9]\\d*)(?:\\.\\d+)?$",
            "type": [
              "number",
              "string"
            ],
            "format": "double"
          }
        }
      },
      "ListItem": {
        "required": [
          "id",
          "name"
        ],
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid"
          },
          "name": {
            "type": "string"
          }
        }
      },
      "LogicalAccount": {
        "required": [
          "id",
          "name",
          "currentBalance",
          "currentBalanceLocalCurrency",
          "currency",
          "controller"
        ],
        "type": "object",
        "properties": {
          "accountType": {
            "$ref": "#/components/schemas/AccountType"
          },
          "isPrimary": {
            "type": "boolean"
          },
          "shareWithFamily": {
            "type": "boolean"
          },
          "includeInBudget": {
            "type": "boolean"
          },
          "institutionAccounts": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/InstitutionAccount"
            }
          },
          "lastTransaction": {
            "type": [
              "null",
              "string"
            ],
            "format": "date"
          },
          "id": {
            "type": "string",
            "format": "uuid"
          },
          "name": {
            "type": "string"
          },
          "description": {
            "type": [
              "null",
              "string"
            ]
          },
          "balanceDate": {
            "type": "string",
            "format": "date-time"
          },
          "currentBalance": {
            "pattern": "^-?(?:0|[1-9]\\d*)(?:\\.\\d+)?$",
            "type": [
              "number",
              "string"
            ],
            "format": "double"
          },
          "currentBalanceLocalCurrency": {
            "pattern": "^-?(?:0|[1-9]\\d*)(?:\\.\\d+)?$",
            "type": [
              "null",
              "number",
              "string"
            ],
            "format": "double"
          },
          "currency": {
            "type": "string"
          },
          "controller": {
            "$ref": "#/components/schemas/Controller"
          },
          "closedDate": {
            "type": [
              "null",
              "string"
            ],
            "format": "date"
          },
          "instrumentType": {
            "type": [
              "null",
              "string"
            ]
          },
          "groupId": {
            "type": [
              "null",
              "string"
            ],
            "format": "uuid"
          },
          "virtualInstruments": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/VirtualInstrument"
            }
          },
          "remainingBalance": {
            "pattern": "^-?(?:0|[1-9]\\d*)(?:\\.\\d+)?$",
            "type": [
              "null",
              "number",
              "string"
            ],
            "format": "double"
          },
          "remainingBalanceLocalCurrency": {
            "pattern": "^-?(?:0|[1-9]\\d*)(?:\\.\\d+)?$",
            "type": [
              "null",
              "number",
              "string"
            ],
            "format": "double"
          }
        }
      },
      "ManualAdjustment": {
        "type": "object",
        "properties": {
          "date": {
            "type": "string",
            "format": "date"
          },
          "deltaAmount": {
            "pattern": "^-?(?:0|[1-9]\\d*)(?:\\.\\d+)?$",
            "type": [
              "number",
              "string"
            ],
            "format": "double"
          }
        }
      },
      "ManualRecurringIncome": {
        "type": "object",
        "properties": {
          "amount": {
            "pattern": "^-?(?:0|[1-9]\\d*)(?:\\.\\d+)?$",
            "type": [
              "number",
              "string"
            ],
            "format": "double"
          },
          "frequency": {
            "type": "string"
          },
          "startDate": {
            "type": [
              "null",
              "string"
            ],
            "format": "date"
          },
          "endDate": {
            "type": [
              "null",
              "string"
            ],
            "format": "date"
          }
        }
      },
      "MonthlyBalancesReport": {
        "required": [
          "balances",
          "accountId",
          "start",
          "end"
        ],
        "type": "object",
        "properties": {
          "balances": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/TrendPoint"
            }
          },
          "accountId": {
            "type": "string",
            "format": "uuid"
          },
          "start": {
            "type": "string",
            "format": "date"
          },
          "end": {
            "type": "string",
            "format": "date"
          }
        }
      },
      "OutgoingStrategy": {
        "type": "object",
        "properties": {
          "version": {
            "pattern": "^-?(?:0|[1-9]\\d*)$",
            "type": [
              "integer",
              "string"
            ],
            "format": "int32"
          },
          "mode": {
            "type": "string"
          },
          "lookbackMonths": {
            "pattern": "^-?(?:0|[1-9]\\d*)$",
            "type": [
              "integer",
              "string"
            ],
            "format": "int32"
          },
          "excludeTagIds": {
            "type": [
              "null",
              "array"
            ],
            "items": {
              "pattern": "^-?(?:0|[1-9]\\d*)$",
              "type": [
                "integer",
                "string"
              ],
              "format": "int32"
            }
          },
          "excludeTransfers": {
            "type": "boolean"
          },
          "excludeOffsets": {
            "type": "boolean"
          },
          "excludeAboveAmount": {
            "pattern": "^-?(?:0|[1-9]\\d*)(?:\\.\\d+)?$",
            "type": [
              "null",
              "number",
              "string"
            ],
            "format": "double"
          },
          "seasonality": {
            "oneOf": [
              {
                "type": "null"
              },
              {
                "$ref": "#/components/schemas/SeasonalitySettings"
              }
            ]
          }
        }
      },
      "Period": {
        "type": "object",
        "properties": {
          "periodStart": {
            "type": "string",
            "format": "date-time"
          },
          "periodEnd": {
            "type": "string",
            "format": "date-time"
          },
          "daysInclusive": {
            "pattern": "^-?(?:0|[1-9]\\d*)$",
            "type": [
              "integer",
              "string"
            ],
            "format": "int32"
          },
          "days": {
            "pattern": "^-?(?:0|[1-9]\\d*)$",
            "type": [
              "integer",
              "string"
            ],
            "format": "int32"
          },
          "pricePerUnit": {
            "pattern": "^-?(?:0|[1-9]\\d*)(?:\\.\\d+)?$",
            "type": [
              "number",
              "string"
            ],
            "format": "double"
          },
          "totalUsage": {
            "pattern": "^-?(?:0|[1-9]\\d*)(?:\\.\\d+)?$",
            "type": [
              "number",
              "string"
            ],
            "format": "double"
          },
          "cost": {
            "pattern": "^-?(?:0|[1-9]\\d*)(?:\\.\\d+)?$",
            "type": [
              "number",
              "string"
            ],
            "format": "double"
          },
          "chargePerDay": {
            "pattern": "^-?(?:0|[1-9]\\d*)(?:\\.\\d+)?$",
            "type": [
              "number",
              "string"
            ],
            "format": "double"
          }
        }
      },
      "PlannedItem": {
        "required": [
          "name"
        ],
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid"
          },
          "itemType": {
            "$ref": "#/components/schemas/PlannedItemType"
          },
          "name": {
            "type": "string"
          },
          "amount": {
            "pattern": "^-?(?:0|[1-9]\\d*)(?:\\.\\d+)?$",
            "type": [
              "number",
              "string"
            ],
            "format": "double"
          },
          "tagId": {
            "pattern": "^-?(?:0|[1-9]\\d*)$",
            "type": [
              "null",
              "integer",
              "string"
            ],
            "format": "int32"
          },
          "tagName": {
            "type": [
              "null",
              "string"
            ]
          },
          "virtualInstrumentId": {
            "type": [
              "null",
              "string"
            ],
            "format": "uuid"
          },
          "isIncluded": {
            "type": "boolean"
          },
          "dateMode": {
            "$ref": "#/components/schemas/PlannedItemDateMode"
          },
          "fixedDate": {
            "type": [
              "null",
              "string"
            ],
            "format": "date"
          },
          "scheduleFrequency": {
            "oneOf": [
              {
                "type": "null"
              },
              {
                "$ref": "#/components/schemas/ScheduleFrequency"
              }
            ]
          },
          "scheduleAnchorDate": {
            "type": [
              "null",
              "string"
            ],
            "format": "date"
          },
          "scheduleInterval": {
            "pattern": "^-?(?:0|[1-9]\\d*)$",
            "type": [
              "null",
              "integer",
              "string"
            ],
            "format": "int32"
          },
          "scheduleDayOfMonth": {
            "pattern": "^-?(?:0|[1-9]\\d*)$",
            "type": [
              "null",
              "integer",
              "string"
            ],
            "format": "int32"
          },
          "scheduleEndDate": {
            "type": [
              "null",
              "string"
            ],
            "format": "date"
          },
          "windowStartDate": {
            "type": [
              "null",
              "string"
            ],
            "format": "date"
          },
          "windowEndDate": {
            "type": [
              "null",
              "string"
            ],
            "format": "date"
          },
          "allocationMode": {
            "oneOf": [
              {
                "type": "null"
              },
              {
                "$ref": "#/components/schemas/AllocationMode"
              }
            ]
          },
          "notes": {
            "type": [
              "null",
              "string"
            ]
          }
        }
      },
      "PlannedItemDateMode": {
        "enum": [
          "FixedDate",
          "Schedule",
          "FlexibleWindow"
        ]
      },
      "PlannedItemType": {
        "enum": [
          "Expense",
          "Income"
        ]
      },
      "RecurringTransaction": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid"
          },
          "virtualAccountId": {
            "type": "string",
            "format": "uuid"
          },
          "description": {
            "type": [
              "null",
              "string"
            ]
          },
          "amount": {
            "pattern": "^-?(?:0|[1-9]\\d*)(?:\\.\\d+)?$",
            "type": [
              "number",
              "string"
            ],
            "format": "double"
          },
          "lastRun": {
            "type": [
              "null",
              "string"
            ],
            "format": "date-time"
          },
          "nextRun": {
            "type": "string",
            "format": "date"
          },
          "schedule": {
            "$ref": "#/components/schemas/ScheduleFrequency"
          }
        }
      },
      "ReportInterval": {
        "enum": [
          "Monthly",
          "Yearly"
        ]
      },
      "ReportType": {
        "type": "object"
      },
      "Rule": {
        "required": [
          "id",
          "contains",
          "tags"
        ],
        "type": "object",
        "properties": {
          "id": {
            "pattern": "^-?(?:0|[1-9]\\d*)$",
            "type": [
              "integer",
              "string"
            ],
            "format": "int32"
          },
          "contains": {
            "type": "string"
          },
          "description": {
            "type": [
              "null",
              "string"
            ]
          },
          "tags": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/Tag"
            }
          }
        }
      },
      "ScheduleFrequency": {
        "enum": [
          "Daily",
          "Weekly",
          "Monthly",
          "Yearly",
          null
        ]
      },
      "SeasonalitySettings": {
        "type": "object",
        "properties": {
          "enabled": {
            "type": "boolean"
          }
        }
      },
      "SortDirection": {
        "enum": [
          "Ascending",
          "Descending"
        ]
      },
      "StartingBalanceMode": {
        "enum": [
          "CalculatedCurrent",
          "ManualAmount"
        ]
      },
      "StockHolding": {
        "required": [
          "symbol",
          "id",
          "name",
          "currentBalance",
          "currentBalanceLocalCurrency",
          "currency",
          "controller"
        ],
        "type": "object",
        "properties": {
          "symbol": {
            "type": "string"
          },
          "quantity": {
            "pattern": "^-?(?:0|[1-9]\\d*)$",
            "type": [
              "integer",
              "string"
            ],
            "format": "int32"
          },
          "currentPrice": {
            "pattern": "^-?(?:0|[1-9]\\d*)(?:\\.\\d+)?$",
            "type": [
              "number",
              "string"
            ],
            "format": "double"
          },
          "currentValue": {
            "pattern": "^-?(?:0|[1-9]\\d*)(?:\\.\\d+)?$",
            "type": [
              "number",
              "string"
            ],
            "format": "double"
          },
          "gainLoss": {
            "pattern": "^-?(?:0|[1-9]\\d*)(?:\\.\\d+)?$",
            "type": [
              "number",
              "string"
            ],
            "format": "double"
          },
          "shareWithFamily": {
            "type": "boolean"
          },
          "id": {
            "type": "string",
            "format": "uuid"
          },
          "name": {
            "type": "string"
          },
          "description": {
            "type": [
              "null",
              "string"
            ]
          },
          "balanceDate": {
            "type": "string",
            "format": "date-time"
          },
          "currentBalance": {
            "pattern": "^-?(?:0|[1-9]\\d*)(?:\\.\\d+)?$",
            "type": [
              "number",
              "string"
            ],
            "format": "double"
          },
          "currentBalanceLocalCurrency": {
            "pattern": "^-?(?:0|[1-9]\\d*)(?:\\.\\d+)?$",
            "type": [
              "null",
              "number",
              "string"
            ],
            "format": "double"
          },
          "currency": {
            "type": "string"
          },
          "controller": {
            "$ref": "#/components/schemas/Controller"
          },
          "closedDate": {
            "type": [
              "null",
              "string"
            ],
            "format": "date"
          },
          "instrumentType": {
            "type": [
              "null",
              "string"
            ]
          },
          "groupId": {
            "type": [
              "null",
              "string"
            ],
            "format": "uuid"
          },
          "virtualInstruments": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/VirtualInstrument"
            }
          },
          "remainingBalance": {
            "pattern": "^-?(?:0|[1-9]\\d*)(?:\\.\\d+)?$",
            "type": [
              "null",
              "number",
              "string"
            ],
            "format": "double"
          },
          "remainingBalanceLocalCurrency": {
            "pattern": "^-?(?:0|[1-9]\\d*)(?:\\.\\d+)?$",
            "type": [
              "null",
              "number",
              "string"
            ],
            "format": "double"
          }
        }
      },
      "StockHoldingReport": {
        "type": "object",
        "properties": {
          "accountId": {
            "type": "string",
            "format": "uuid"
          },
          "currentValue": {
            "pattern": "^-?(?:0|[1-9]\\d*)(?:\\.\\d+)?$",
            "type": [
              "number",
              "string"
            ],
            "format": "double"
          },
          "profitLoss": {
            "pattern": "^-?(?:0|[1-9]\\d*)(?:\\.\\d+)?$",
            "type": [
              "number",
              "string"
            ],
            "format": "double"
          },
          "adjustedProfitLoss": {
            "pattern": "^-?(?:0|[1-9]\\d*)(?:\\.\\d+)?$",
            "type": [
              "number",
              "string"
            ],
            "format": "double"
          }
        }
      },
      "StockTransaction": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid"
          },
          "accountId": {
            "type": "string",
            "format": "uuid"
          },
          "price": {
            "pattern": "^-?(?:0|[1-9]\\d*)(?:\\.\\d+)?$",
            "type": [
              "number",
              "string"
            ],
            "format": "double"
          },
          "quantity": {
            "pattern": "^-?(?:0|[1-9]\\d*)$",
            "type": [
              "integer",
              "string"
            ],
            "format": "int32"
          },
          "description": {
            "type": [
              "null",
              "string"
            ]
          },
          "fees": {
            "pattern": "^-?(?:0|[1-9]\\d*)(?:\\.\\d+)?$",
            "type": [
              "number",
              "string"
            ],
            "format": "double"
          },
          "accountHolderName": {
            "type": [
              "null",
              "string"
            ]
          },
          "transactionDate": {
            "type": "string",
            "format": "date-time"
          },
          "transactionType": {
            "$ref": "#/components/schemas/TransactionType"
          }
        }
      },
      "StockValueReport": {
        "required": [
          "instrumentId",
          "symbol",
          "start",
          "end",
          "granularity"
        ],
        "type": "object",
        "properties": {
          "instrumentId": {
            "type": "string",
            "format": "uuid"
          },
          "symbol": {
            "type": "string"
          },
          "start": {
            "type": "string",
            "format": "date"
          },
          "end": {
            "type": "string",
            "format": "date"
          },
          "granularity": {
            "pattern": "^-?(?:0|[1-9]\\d*)$",
            "type": [
              "integer",
              "string"
            ],
            "format": "int32"
          },
          "points": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/StockValueReportPoint"
            }
          },
          "investment": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/StockValueReportPoint"
            }
          }
        }
      },
      "StockValueReportPoint": {
        "type": "object",
        "properties": {
          "date": {
            "type": "string",
            "format": "date"
          },
          "value": {
            "pattern": "^-?(?:0|[1-9]\\d*)(?:\\.\\d+)?$",
            "type": [
              "number",
              "string"
            ],
            "format": "double"
          }
        }
      },
      "Tag": {
        "required": [
          "name"
        ],
        "type": "object",
        "properties": {
          "id": {
            "pattern": "^-?(?:0|[1-9]\\d*)$",
            "type": [
              "integer",
              "string"
            ],
            "format": "int32"
          },
          "name": {
            "type": "string"
          },
          "colour": {
            "oneOf": [
              {
                "type": "null"
              },
              {
                "$ref": "#/components/schemas/HexColour"
              }
            ]
          },
          "tags": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/Tag"
            }
          },
          "settings": {
            "$ref": "#/components/schemas/TagSettings"
          }
        }
      },
      "TagHierarchy": {
        "required": [
          "levels",
          "tags"
        ],
        "type": "object",
        "properties": {
          "levels": {
            "type": "object",
            "additionalProperties": {
              "pattern": "^-?(?:0|[1-9]\\d*)$",
              "type": [
                "integer",
                "string"
              ],
              "format": "int32"
            }
          },
          "tags": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/Tag"
            }
          }
        }
      },
      "TagSettings": {
        "type": "object",
        "properties": {
          "applySmoothing": {
            "type": "boolean"
          },
          "excludeFromReporting": {
            "type": "boolean"
          }
        }
      },
      "TagTrendReport": {
        "required": [
          "tagId",
          "tagName",
          "months",
          "accountId",
          "start",
          "end"
        ],
        "type": "object",
        "properties": {
          "tagId": {
            "pattern": "^-?(?:0|[1-9]\\d*)$",
            "type": [
              "integer",
              "string"
            ],
            "format": "int32"
          },
          "tagName": {
            "type": "string"
          },
          "months": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/TrendPoint"
            }
          },
          "average": {
            "pattern": "^-?(?:0|[1-9]\\d*)(?:\\.\\d+)?$",
            "type": [
              "number",
              "string"
            ],
            "format": "double"
          },
          "offsetAverage": {
            "pattern": "^-?(?:0|[1-9]\\d*)(?:\\.\\d+)?$",
            "type": [
              "null",
              "number",
              "string"
            ],
            "format": "double"
          },
          "accountId": {
            "type": "string",
            "format": "uuid"
          },
          "start": {
            "type": "string",
            "format": "date"
          },
          "end": {
            "type": "string",
            "format": "date"
          }
        }
      },
      "TagValue": {
        "required": [
          "grossAmount"
        ],
        "type": "object",
        "properties": {
          "tagId": {
            "pattern": "^-?(?:0|[1-9]\\d*)$",
            "type": [
              "null",
              "integer",
              "string"
            ],
            "format": "int32"
          },
          "tagName": {
            "type": [
              "null",
              "string"
            ]
          },
          "grossAmount": {
            "pattern": "^-?(?:0|[1-9]\\d*)(?:\\.\\d+)?$",
            "type": [
              "number",
              "string"
            ],
            "format": "double"
          },
          "netAmount": {
            "pattern": "^-?(?:0|[1-9]\\d*)(?:\\.\\d+)?$",
            "type": [
              "null",
              "number",
              "string"
            ],
            "format": "double"
          },
          "hasChildren": {
            "type": "boolean"
          }
        }
      },
      "Transaction": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid"
          },
          "accountId": {
            "type": "string",
            "format": "uuid"
          },
          "amount": {
            "pattern": "^-?(?:0|[1-9]\\d*)(?:\\.\\d+)?$",
            "type": [
              "number",
              "string"
            ],
            "format": "double"
          },
          "netAmount": {
            "pattern": "^-?(?:0|[1-9]\\d*)(?:\\.\\d+)?$",
            "type": [
              "number",
              "string"
            ],
            "format": "double"
          },
          "description": {
            "type": [
              "null",
              "string"
            ]
          },
          "location": {
            "type": [
              "null",
              "string"
            ]
          },
          "accountHolderName": {
            "type": [
              "null",
              "string"
            ]
          },
          "reference": {
            "type": [
              "null",
              "string"
            ]
          },
          "notes": {
            "type": [
              "null",
              "string"
            ]
          },
          "excludeFromReporting": {
            "type": "boolean"
          },
          "transactionTime": {
            "type": "string",
            "format": "date-time"
          },
          "purchaseDate": {
            "type": [
              "null",
              "string"
            ],
            "format": "date-time"
          },
          "transactionType": {
            "$ref": "#/components/schemas/TransactionType"
          },
          "tags": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/Tag"
            }
          },
          "splits": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/TransactionSplit"
            }
          },
          "offsetFor": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/TransactionOffsetFor"
            }
          },
          "extraInfo": { }
        }
      },
      "TransactionFilterType": {
        "enum": [
          "None",
          "Credit",
          "Debit",
          null
        ]
      },
      "TransactionOffsetBy": {
        "required": [
          "transaction",
          "amount"
        ],
        "type": "object",
        "properties": {
          "transaction": {
            "$ref": "#/components/schemas/Transaction"
          },
          "amount": {
            "pattern": "^-?(?:0|[1-9]\\d*)(?:\\.\\d+)?$",
            "type": [
              "number",
              "string"
            ],
            "format": "double"
          }
        }
      },
      "TransactionOffsetFor": {
        "required": [
          "transaction",
          "amount"
        ],
        "type": "object",
        "properties": {
          "transaction": {
            "$ref": "#/components/schemas/Transaction"
          },
          "amount": {
            "pattern": "^-?(?:0|[1-9]\\d*)(?:\\.\\d+)?$",
            "type": [
              "number",
              "string"
            ],
            "format": "double"
          }
        }
      },
      "TransactionSplit": {
        "required": [
          "id",
          "tags",
          "amount"
        ],
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid"
          },
          "tags": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/Tag"
            }
          },
          "amount": {
            "pattern": "^-?(?:0|[1-9]\\d*)(?:\\.\\d+)?$",
            "type": [
              "number",
              "string"
            ],
            "format": "double"
          },
          "offsetBy": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/TransactionOffsetBy"
            }
          }
        }
      },
      "TransactionType": {
        "enum": [
          "NotSet",
          "Credit",
          "Debit"
        ]
      },
      "TrendPoint": {
        "required": [
          "month",
          "grossAmount"
        ],
        "type": "object",
        "properties": {
          "month": {
            "type": "string",
            "format": "date"
          },
          "grossAmount": {
            "pattern": "^-?(?:0|[1-9]\\d*)(?:\\.\\d+)?$",
            "type": [
              "number",
              "string"
            ],
            "format": "double"
          },
          "netAmount": {
            "pattern": "^-?(?:0|[1-9]\\d*)(?:\\.\\d+)?$",
            "type": [
              "null",
              "number",
              "string"
            ],
            "format": "double"
          }
        }
      },
      "UpdateFamily": {
        "required": [
          "name"
        ],
        "type": "object",
        "properties": {
          "name": {
            "type": "string"
          }
        }
      },
      "UpdateInstitutionAccount": {
        "required": [
          "name"
        ],
        "type": "object",
        "properties": {
          "institutionId": {
            "pattern": "^-?(?:0|[1-9]\\d*)$",
            "type": [
              "integer",
              "string"
            ],
            "format": "int32"
          },
          "importerTypeId": {
            "pattern": "^-?(?:0|[1-9]\\d*)$",
            "type": [
              "null",
              "integer",
              "string"
            ],
            "format": "int32"
          },
          "name": {
            "type": "string"
          }
        }
      },
      "UpdateRule": {
        "required": [
          "contains",
          "tags"
        ],
        "type": "object",
        "properties": {
          "contains": {
            "type": "string"
          },
          "description": {
            "type": [
              "null",
              "string"
            ]
          },
          "tags": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/Tag"
            }
          }
        }
      },
      "UpdateTag": {
        "required": [
          "name",
          "colour",
          "excludeFromReporting",
          "applySmoothing"
        ],
        "type": "object",
        "properties": {
          "name": {
            "type": "string"
          },
          "colour": {
            "$ref": "#/components/schemas/HexColour"
          },
          "excludeFromReporting": {
            "type": "boolean"
          },
          "applySmoothing": {
            "type": "boolean"
          }
        }
      },
      "UpdateUser": {
        "type": "object",
        "properties": {
          "primaryAccountId": {
            "type": [
              "null",
              "string"
            ],
            "format": "uuid"
          },
          "currency": {
            "type": "string"
          },
          "cards": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/UserCard"
            }
          }
        }
      },
      "User": {
        "required": [
          "emailAddress",
          "currency"
        ],
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid"
          },
          "emailAddress": {
            "type": "string"
          },
          "firstName": {
            "type": [
              "null",
              "string"
            ]
          },
          "lastName": {
            "type": [
              "null",
              "string"
            ]
          },
          "currency": {
            "type": "string"
          },
          "familyId": {
            "type": "string",
            "format": "uuid"
          },
          "primaryAccountId": {
            "type": [
              "null",
              "string"
            ],
            "format": "uuid"
          },
          "accounts": {
            "type": "array",
            "items": {
              "type": "string",
              "format": "uuid"
            }
          },
          "sharedAccounts": {
            "type": "array",
            "items": {
              "type": "string",
              "format": "uuid"
            }
          },
          "groups": {
            "type": "array",
            "items": {
              "type": "string",
              "format": "uuid"
            }
          }
        }
      },
      "UserCard": {
        "required": [
          "last4Digits"
        ],
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid"
          },
          "name": {
            "type": [
              "null",
              "string"
            ]
          },
          "last4Digits": {
            "pattern": "^-?(?:0|[1-9]\\d*)$",
            "type": [
              "integer",
              "string"
            ],
            "format": "int16"
          }
        }
      },
      "UserWithCards": {
        "required": [
          "emailAddress",
          "currency"
        ],
        "type": "object",
        "properties": {
          "cards": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/UserCard"
            }
          },
          "id": {
            "type": "string",
            "format": "uuid"
          },
          "emailAddress": {
            "type": "string"
          },
          "firstName": {
            "type": [
              "null",
              "string"
            ]
          },
          "lastName": {
            "type": [
              "null",
              "string"
            ]
          },
          "currency": {
            "type": "string"
          },
          "familyId": {
            "type": "string",
            "format": "uuid"
          },
          "primaryAccountId": {
            "type": [
              "null",
              "string"
            ],
            "format": "uuid"
          },
          "accounts": {
            "type": "array",
            "items": {
              "type": "string",
              "format": "uuid"
            }
          },
          "sharedAccounts": {
            "type": "array",
            "items": {
              "type": "string",
              "format": "uuid"
            }
          },
          "groups": {
            "type": "array",
            "items": {
              "type": "string",
              "format": "uuid"
            }
          }
        }
      },
      "UtilityType": {
        "enum": [
          "Electricity",
          "Gas",
          "Water",
          "Phone",
          "Internet",
          "Other"
        ]
      },
      "VirtualInstrument": {
        "required": [
          "id",
          "name",
          "currentBalance",
          "currentBalanceLocalCurrency",
          "currency",
          "controller"
        ],
        "type": "object",
        "properties": {
          "parentId": {
            "type": "string",
            "format": "uuid"
          },
          "lastTransaction": {
            "type": [
              "null",
              "string"
            ],
            "format": "date"
          },
          "id": {
            "type": "string",
            "format": "uuid"
          },
          "name": {
            "type": "string"
          },
          "description": {
            "type": [
              "null",
              "string"
            ]
          },
          "balanceDate": {
            "type": "string",
            "format": "date-time"
          },
          "currentBalance": {
            "pattern": "^-?(?:0|[1-9]\\d*)(?:\\.\\d+)?$",
            "type": [
              "number",
              "string"
            ],
            "format": "double"
          },
          "currentBalanceLocalCurrency": {
            "pattern": "^-?(?:0|[1-9]\\d*)(?:\\.\\d+)?$",
            "type": [
              "null",
              "number",
              "string"
            ],
            "format": "double"
          },
          "currency": {
            "type": "string"
          },
          "controller": {
            "$ref": "#/components/schemas/Controller"
          },
          "closedDate": {
            "type": [
              "null",
              "string"
            ],
            "format": "date"
          },
          "instrumentType": {
            "type": [
              "null",
              "string"
            ]
          },
          "groupId": {
            "type": [
              "null",
              "string"
            ],
            "format": "uuid"
          },
          "virtualInstruments": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/VirtualInstrument"
            }
          },
          "remainingBalance": {
            "pattern": "^-?(?:0|[1-9]\\d*)(?:\\.\\d+)?$",
            "type": [
              "null",
              "number",
              "string"
            ],
            "format": "double"
          },
          "remainingBalanceLocalCurrency": {
            "pattern": "^-?(?:0|[1-9]\\d*)(?:\\.\\d+)?$",
            "type": [
              "null",
              "number",
              "string"
            ],
            "format": "double"
          }
        }
      }
    },
    "securitySchemes": {
      "oidc": {
        "type": "openIdConnect",
        "description": "OIDC",
        "openIdConnectUrl": "https://login.microsoftonline.com/00000000-0000-0000-0000-000000000000/v2.0/.well-known/openid-configuration"
      }
    }
  },
  "security": [
    {
      "oidc": [ ]
    }
  ],
  "tags": [
    {
      "name": "Accounts"
    },
    {
      "name": "Recurring Transactions"
    },
    {
      "name": "Assets"
    },
    {
      "name": "Bills"
    },
    {
      "name": "Budget"
    },
    {
      "name": "Budget Report"
    },
    {
      "name": "Families"
    },
    {
      "name": "Forecast"
    },
    {
      "name": "Groups"
    },
    {
      "name": "Institutions"
    },
    {
      "name": "Instruments"
    },
    {
      "name": "Import"
    },
    {
      "name": "Rules"
    },
    {
      "name": "Virtual Instruments"
    },
    {
      "name": "Reference Data"
    },
    {
      "name": "Reports"
    },
    {
      "name": "Group Reports"
    },
    {
      "name": "Stock Holding"
    },
    {
      "name": "Transactions"
    },
    {
      "name": "Tags"
    },
    {
      "name": "User"
    }
  ]
}